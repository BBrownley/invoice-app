{"version":3,"sources":["darkModeContext.js","App.elements.js","InvoiceContext.js","services/invoices.js","components/custom-hooks/useScreenWidth.jsx","components/Invoice/Invoice.elements.js","components/Invoice/Invoice.jsx","assets/illustration-empty.svg","components/InvoicesList/InvoicesList.elements.js","components/InvoicesList/InvoicesList.jsx","components/FormItemList/FormItemList.elements.js","components/shared/mixins/InputStyle.elements.js","components/shared/FormInput.elements.js","assets/icon-plus.svg","components/shared/Button.elements.js","components/FormItemList/FormItemList.jsx","components/shared/Datepicker.elements.js","components/shared/Dropdown.elements.js","components/shared/mixins/Scrollbar.elements.js","components/NewInvoiceForm/NewInvoiceForm.elements.js","components/NewInvoiceForm/helpers.js","components/NewInvoiceForm/NewInvoiceForm.jsx","components/InvoicesView/InvoicesView.elements.js","components/InvoicesView/InvoicesView.jsx","components/Item/Item.elements.js","components/Item/Item.jsx","components/ItemList/ItemList.elements.js","components/ItemList/ItemList.jsx","components/SingleInvoiceView/SingleInvoiceView.elements.js","components/SingleInvoiceView/SingleInvoiceView.jsx","components/Login/Login.elements.js","components/Login/Login.jsx","App.js","components/custom-hooks/useComponentWillMount.jsx","reportWebVitals.js","theme.js","index.js","assets/icon-moon.svg","assets/icon-sun.svg","components/Sidebar/Sidebar.elements.js","services/users.js","services/tokenUtil.js","components/Sidebar/Sidebar.jsx","assets/logo.svg"],"names":["DarkModeContext","createContext","DarkModeUpdateContext","useDarkMode","useContext","useDarkModeUpdate","DarkModeProvider","children","useState","darkModeOn","setDarkModeOn","useEffect","a","usersService","getDarkModePref","setting","console","log","setDefaultDarkMode","Provider","value","Container","styled","div","props","darkMode","theme","colors","black500","white600","black600","gray500","InvoiceContext","React","InvoiceUpdateContext","useInvoiceUpdate","InvoiceProvider","invoice","setInvoice","baseUrl","process","baseURL","getInvoices","axios","get","res","data","getGuestInvoices","add","post","newInvoice","message","setStatus","newStatus","body","ownerId","put","_id","toggleStatus","prevStatus","status","deleteInvoice","delete","invoiceService","updateInvoice","useScreenWidth","window","innerWidth","screenWidth","setScreenWidth","updateWidth","addEventListener","removeEventListener","OuterContainer","black400","primary","InvoiceId","PaymentDue","Name","Total","h3","Status","css","Invoice","selectInvoice","to","onClick","className","toUpperCase","substring","length","format","Date","paymentDue","clientName","total","toFixed","icon","faCircle","_","capitalize","faChevronRight","EmptyWarning","white500","EmptyImg","imgEmpty","InvoicesList","invoices","map","key","TableHeaders","List","ul","Item","li","black300","DeleteItem","span","red","sharedStyle","FormInput","input","InputStyle","Button","button","primaryLight","plusIcon","size","name","color","blueGray","gray400","pink","FormItemList","items","setItems","updateItem","e","index","parseInt","target","getAttribute","fieldName","updatedValue","isNaN","prevState","result","i","updatedObject","updatedTotal","quantity","price","push","item","data-index","onChange","placeholder","slice","deleteItem","faTrash","StyledDatePickerContainer","StyledDatePicker","DatePicker","StyledSelect","Select","secondary","custom","customOpen","blueGrayLight","openContainer","leftStart","leftEnd","keyframes","InvoiceForm","form","DarkBkg","Wrapper","ScrollbarStyle","invoiceFormOptions","FormBottom","helpers","validateInvoice","Object","entries","Error","forEach","trim","values","every","field","formatInvoice","formValues","createdAt","description","paymentTerms","clientEmail","days","senderAddress","street","fromStreet","city","fromCity","postCode","fromPostCode","country","fromCountry","clientAddress","clientStreet","clientCity","clientPostCode","clientCountry","reduce","acc","netDays","label","NewInvoiceForm","handleFormOpened","setAllInvoices","setInvoices","editMode","editedInvoice","setFormValues","formError","setFormError","handleFormInput","handleFormSubmit","validatedInvoice","localStorage","getItem","prevGuestInvoices","JSON","parse","updatedGuestInvoices","uniqid","setItem","stringify","serverGeneratedInvoice","handleEditInvoice","formattedInvoice","updatedInvoice","makePending","invoiceId","updatedInvoices","htmlFor","type","id","selected","date","minDate","dateFormatCalendar","faCalendarAlt","options","isSearchable","Header","openOptions","Options","opened","StyledButton","CustomDropdown","CustomDropdownHeader","InvoicesView","filterSelectOpen","setFilterSelectOpen","allInvoices","filters","setFilters","selectOpened","setSelectOpened","formOpened","setFormOpened","optionsRef","useRef","width","handleCloseDropdown","current","contains","exception","starterInvoices","guestInvoices","fetchInvoices","filter","includes","handleFilterCheckbox","filterValue","Sidebar","faAngleDown","ref","checked","handleSelectInvoice","MobileItem","ListWrapper","ItemList","StyledStatus","GoBack","InvoiceActions","InvoiceInfo","StyledModal","Modal","SingleInvoiceView","history","useHistory","deleteModalOpen","setDeleteModalOpen","editInvoiceOpen","setEditInvoiceOpen","updatedStatus","currentInvoiceId","guestInvoice","isOpen","onRequestClose","contentLabel","ariaHideApp","faChevronLeft","BgTop","BgBottom","BgLeftEdge","BgRightEdge","MainContent","AppInfo","Login","FormField","Buttons","Sandbox","username","setUsername","password","setPassword","newUsername","setNewUsername","newEmail","setNewEmail","newPassword","setNewPassword","pwConfirm","setPwConfirm","registering","setRegistering","formWarning","setFormWarning","register","registration","error","login","userLogin","continueAsGuest","App","selectedInvoice","setSelectedInvoice","location","useLocation","callback","willMount","useComponentWillMount","storedUser","setStoredToken","pathname","exact","path","render","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","breakpoints","Branding","Logo","logo","BgBot","ToggleContainer","NightToggle","moon","DayToggle","sun","LoginInfo","credentials","response","user","req","token","userToken","toggleDarkModePref","storedToken","defaults","headers","common","removeStoredToken","setDarkModeContext","darkModeEnabled","setDarkModeEnabled","whosLoggedIn","setWhosLoggedIn","logout","removeItem","handleToggleDarkMode","prevGuestDarkMode","eval","darkModePref"],"mappings":"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","file":"static/js/main.3425d6c1.chunk.js","sourcesContent":["import React, { useContext, createContext, useState, useEffect } from \"react\";\r\nimport usersService from \"./services/users\";\r\n\r\nconst DarkModeContext = createContext();\r\nconst DarkModeUpdateContext = createContext();\r\n\r\nexport const useDarkMode = () => {\r\n  return useContext(DarkModeContext);\r\n};\r\n\r\nexport const useDarkModeUpdate = () => {\r\n  return useContext(DarkModeUpdateContext);\r\n};\r\n\r\nexport const DarkModeProvider = ({ children }) => {\r\n  const [darkModeOn, setDarkModeOn] = useState(null);\r\n\r\n  // Load user's saved dark mode setting\r\n  useEffect(() => {\r\n    const setDefaultDarkMode = async () => {\r\n      const setting = await usersService.getDarkModePref();\r\n      console.log(setting);\r\n      setDarkModeOn(setting);\r\n    };\r\n    setDefaultDarkMode();\r\n  }, []);\r\n\r\n  const handleSetDarkMode = setting => {\r\n    console.log(setting);\r\n    setDarkModeOn(setting);\r\n  };\r\n\r\n  return (\r\n    <DarkModeContext.Provider value={darkModeOn}>\r\n      <DarkModeUpdateContext.Provider value={handleSetDarkMode}>\r\n        {children}\r\n      </DarkModeUpdateContext.Provider>\r\n    </DarkModeContext.Provider>\r\n  );\r\n};\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  font-family: \"Spartan\", sans-serif;\r\n  height: 100vh;\r\n\r\n  background-color: ${props =>\r\n    props.darkMode ? props.theme.colors.black500 : props.theme.colors.white600};\r\n\r\n  color: ${props => (props.darkMode ? \"white\" : props.theme.colors.black600)};\r\n\r\n  .gray-500 {\r\n    color: ${props => props.theme.colors.gray500};\r\n  }\r\n`;\r\n","import React, { useContext, useState } from \"react\";\r\n\r\nconst InvoiceContext = React.createContext();\r\nconst InvoiceUpdateContext = React.createContext();\r\n\r\nexport const useInvoice = () => {\r\n  return useContext(InvoiceContext);\r\n};\r\n\r\nexport const useInvoiceUpdate = () => {\r\n  return useContext(InvoiceUpdateContext);\r\n};\r\n\r\nexport const InvoiceProvider = ({ children }) => {\r\n  const [invoice, setInvoice] = useState(null);\r\n\r\n  const handleSetInvoice = invoice => {\r\n    console.log(invoice);\r\n    setInvoice(invoice);\r\n  };\r\n\r\n  return (\r\n    <InvoiceContext.Provider value={invoice}>\r\n      <InvoiceUpdateContext.Provider value={handleSetInvoice}>\r\n        {children}\r\n      </InvoiceUpdateContext.Provider>\r\n    </InvoiceContext.Provider>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport storedToken from \"./tokenUtil\";\r\n\r\nconst baseUrl = process.env.baseURL || \"http://localhost:5000\";\r\n\r\nconst getInvoices = async () => {\r\n  const res = await axios.get(`${baseUrl}/invoices`);\r\n  return res.data;\r\n};\r\n\r\nconst getGuestInvoices = async () => {\r\n  const res = await axios.get(`${baseUrl}/invoices/guest`);\r\n  return res.data;\r\n};\r\n\r\nconst add = async invoice => {\r\n  try {\r\n    const res = await axios.post(`${baseUrl}/invoices`, { invoice });\r\n    const newInvoice = res.data;\r\n    return newInvoice;\r\n  } catch (exception) {\r\n    console.log(exception.message);\r\n  }\r\n};\r\n\r\nconst setStatus = async (invoice, newStatus) => {\r\n  try {\r\n    const body = {\r\n      ownerId: invoice.ownerId,\r\n      newStatus\r\n    };\r\n\r\n    await axios.put(`${baseUrl}/invoices/${invoice._id}/status?setstatus=${newStatus}`, body);\r\n  } catch (exception) {\r\n    console.log(exception.message);\r\n  }\r\n};\r\n\r\nconst toggleStatus = async invoice => {\r\n  try {\r\n    const body = {\r\n      ownerId: invoice.ownerId,\r\n      prevStatus: invoice.status\r\n    };\r\n\r\n    await axios.put(`${baseUrl}/invoices/${invoice._id}/status`, body);\r\n  } catch (exception) {\r\n    console.log(exception.message);\r\n  }\r\n};\r\n\r\nconst deleteInvoice = async invoice => {\r\n  try {\r\n    await axios.delete(`${baseUrl}/invoices/${invoice._id}`);\r\n  } catch (exception) {\r\n    console.log(exception.message);\r\n  }\r\n};\r\n\r\nconst updateInvoice = async invoice => {\r\n  try {\r\n    const res = await axios.put(\r\n      `${baseUrl}/invoices/${invoice._id}?draft=${invoice.status === \"draft\"}`,\r\n      invoice\r\n    );\r\n    return res.data;\r\n  } catch (exception) {\r\n    console.log(exception.message);\r\n  }\r\n};\r\n\r\nconst invoiceService = {\r\n  getInvoices,\r\n  getGuestInvoices,\r\n  add,\r\n  setStatus,\r\n  toggleStatus,\r\n  updateInvoice,\r\n  deleteInvoice\r\n};\r\n\r\nexport default invoiceService;\r\n","import React, {useState, useEffect} from 'react'\r\n\r\nexport default function useScreenWidth() {\r\n\r\n  const [screenWidth, setScreenWidth] = useState(window.innerWidth);\r\n\r\n  const updateWidth = () => {\r\n    setScreenWidth(window.innerWidth);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", updateWidth);\r\n    return () => window.removeEventListener(\"resize\", updateWidth)\r\n  })\r\n\r\n  return screenWidth;\r\n}\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport const OuterContainer = styled.div`\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  border-radius: 0.5rem;\r\n  width: 100%;\r\n  height: 72px;\r\n  margin-bottom: 1rem;\r\n  position: relative;\r\n  display: flex;\r\n  padding-left: 2rem;\r\n  padding-right: 3rem;\r\n  -webkit-box-shadow: 0px 2px 5px 1px rgba(0, 0, 0, 0.03);\r\n  box-shadow: 0px 2px 5px 1px rgba(0, 0, 0, 0.03);\r\n\r\n  background-color: ${props =>\r\n    props.darkMode ? props.theme.colors.black400 : \"white\"};\r\n\r\n  color: ${props => (props.darkMode ? \"white\" : props.theme.colors.gray500)};\r\n\r\n  .invoice-info {\r\n    color: ${props => (props.darkMode ? \"white\" : props.theme.colors.black600)};\r\n  }\r\n\r\n  &:hover {\r\n    -webkit-box-shadow: 0px 0px 0px 1px ${props => props.theme.colors.primary};\r\n    box-shadow: 0px 0px 0px 1px ${props => props.theme.colors.primary};\r\n  }\r\n\r\n  > * {\r\n    align-self: center;\r\n    padding-right: 1rem;\r\n  }\r\n\r\n  .fa-chevron-right {\r\n    position: absolute;\r\n    right: 1.5rem;\r\n    padding-right: 0;\r\n    color: ${props => props.theme.colors.primary};\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    height: 144px;\r\n    margin-bottom: 1rem;\r\n    .fa-chevron-right {\r\n      display: none;\r\n    }\r\n    > * {\r\n      padding-right: 0;\r\n    }\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const InvoiceId = styled.div`\r\n  /* border: 1px dashed red; */\r\n  color: ${props => props.theme.colors.black600};\r\n  font-weight: bold;\r\n  width: 80px;\r\n  @media (max-width: 700px) {\r\n    position: absolute;\r\n    left: 15px;\r\n    top: 25px;\r\n  }\r\n`;\r\n\r\nexport const PaymentDue = styled.div`\r\n  /* border: 1px dashed blue; */\r\n  flex: 1;\r\n  padding-left: 2rem;\r\n  @media (max-width: 700px) {\r\n    position: absolute;\r\n    left: 25px;\r\n    bottom: 62px;\r\n    padding-left: 0;\r\n  }\r\n`;\r\n\r\nexport const Name = styled.div`\r\n  /* border: 1px dashed red; */\r\n  flex: 1;\r\n  @media (max-width: 700px) {\r\n    position: absolute;\r\n    right: 25px;\r\n    top: 25px;\r\n  }\r\n`;\r\n\r\nexport const Total = styled.h3`\r\n  /* border: 1px dashed blue; */\r\n  color: ${props => props.theme.colors.black600};\r\n  text-align: right;\r\n  flex: 1;\r\n  padding-right: 2.5rem;\r\n  @media (max-width: 700px) {\r\n    position: absolute;\r\n    left: 25px;\r\n    bottom: 25px;\r\n  }\r\n`;\r\n\r\nexport const Status = styled.div`\r\n  /* border: 1px dashed red; */\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  /* z-index: 10000; */\r\n  span {\r\n    background-color: #302759;\r\n    width: 104px;\r\n    height: 40px;\r\n    border-radius: 6px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-weight: bold;\r\n\r\n    .fa-circle {\r\n      margin-right: 8px;\r\n    }\r\n\r\n    ${props => {\r\n      switch (props.status) {\r\n        case \"paid\":\r\n          return css`\r\n            background-color: ${props =>\r\n              props.darkMode ? \"#1f2b3f\" : \"#f3fdfa\"};\r\n            color: #33d69f;\r\n          `;\r\n        case \"pending\":\r\n          return css`\r\n            background-color: ${props =>\r\n              props.darkMode ? \"#2b2736\" : \"#fff9f0\"};\r\n            color: #ff9f00;\r\n          `;\r\n        case \"draft\":\r\n          return css`\r\n            background-color: ${props =>\r\n              props.darkMode ? \"#292c44\" : \"#f4f4f5\"};\r\n            color: ${props => (props.darkMode ? \"#dfe3fa\" : \"#373b53\")};\r\n          `;\r\n        default:\r\n          break;\r\n      }\r\n    }}\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    position: absolute;\r\n    right: 25px;\r\n    bottom: 25px;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\nimport _ from \"lodash\";\r\n\r\nimport { useDarkMode } from \"../../darkModeContext\";\r\nimport { useInvoiceUpdate } from \"../../InvoiceContext\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCircle, faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport {\r\n  OuterContainer,\r\n  Container,\r\n  InvoiceId,\r\n  PaymentDue,\r\n  Name,\r\n  Total,\r\n  Status\r\n} from \"./Invoice.elements\";\r\n\r\nexport default function Invoice({ invoice }) {\r\n  const selectInvoice = useInvoiceUpdate();\r\n\r\n  return (\r\n    <OuterContainer>\r\n      <Link\r\n        to={`/invoices/${invoice._id}`}\r\n        onClick={() => selectInvoice(invoice)}\r\n      >\r\n        <Container darkMode={useDarkMode()}>\r\n          <InvoiceId className=\"invoice-info\">\r\n            <span className=\"gray-500\">#</span>\r\n            {`...${invoice._id\r\n              .toUpperCase()\r\n              .substring(invoice._id.length - 6)}`}\r\n          </InvoiceId>\r\n          <PaymentDue>\r\n            Due {format(new Date(invoice.paymentDue), \"LLL d yyyy\")}\r\n          </PaymentDue>\r\n          <Name>{invoice.clientName}</Name>\r\n          <Total className=\"invoice-info\">$ {invoice.total.toFixed(2)}</Total>\r\n          <Status status={invoice.status} darkMode={useDarkMode()}>\r\n            <span>\r\n              <FontAwesomeIcon icon={faCircle} className=\"fa-circle\" />\r\n              {_.capitalize(invoice.status)}\r\n            </span>\r\n          </Status>\r\n\r\n          <FontAwesomeIcon icon={faChevronRight} className=\"fa-chevron-right\" />\r\n        </Container>\r\n      </Link>\r\n    </OuterContainer>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/illustration-empty.e3122ec2.svg\";","import styled from \"styled-components\";\r\nimport imgEmpty from \"../../assets/illustration-empty.svg\";\r\n\r\nexport const Container = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport const EmptyWarning = styled.div`\r\n  width: 240px;\r\n  margin: 63px auto 0 auto;\r\n  color: ${props =>\r\n    props.darkMode ? props.theme.colors.white500 : props.theme.colors.gray500};\r\n  p {\r\n    margin-top: 1.75rem;\r\n    strong {\r\n      font-weight: bold;\r\n    }\r\n  }\r\n  h2 {\r\n    color: ${props =>\r\n      props.darkMode\r\n        ? props.theme.colors.white600\r\n        : props.theme.colors.black600};\r\n  }\r\n`;\r\n\r\nexport const EmptyImg = styled.div`\r\n  background-image: url(${imgEmpty});\r\n  background-size: cover;\r\n  height: 198px;\r\n  margin-bottom: 70px;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport Invoice from \"../Invoice/Invoice\";\r\nimport imgEmpty from \"../../assets/illustration-empty.svg\";\r\n\r\nimport { useDarkMode } from \"../../darkModeContext\";\r\n\r\nimport { Container, EmptyWarning, EmptyImg } from \"./InvoicesList.elements\";\r\n\r\nexport default function InvoicesList({ invoices }) {\r\n  const darkMode = useDarkMode();\r\n  console.log(invoices);\r\n\r\n  return (\r\n    <Container>\r\n      {invoices.length === 0 && (\r\n        <EmptyWarning darkMode={darkMode}>\r\n          <EmptyImg></EmptyImg>\r\n          <h2>There is nothing here</h2>\r\n          <p>\r\n            Create an invoice by clicking the <strong>New Invoice</strong>{\" \"}\r\n            button and get started. Alternatively, toggle the various status\r\n            filters to view invoices that were filtered out.\r\n          </p>\r\n        </EmptyWarning>\r\n      )}\r\n      {invoices.map((invoice, key) => {\r\n        return <Invoice invoice={invoice} key={key} />;\r\n      })}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  /* border: 1px dashed; */\r\n  h2 {\r\n    margin-bottom: 1rem;\r\n    color: #777f98;\r\n  }\r\n  button {\r\n    width: 100%;\r\n  }\r\n  .add-item {\r\n    margin-bottom: 2rem;\r\n  }\r\n`;\r\n\r\nexport const TableHeaders = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 1.5rem;\r\n  color: ${props => (props.darkMode ? \"white\" : props.theme.colors.gray500)};\r\n  span:nth-of-type(1) {\r\n    flex-basis: 214px;\r\n  }\r\n  span:nth-of-type(2) {\r\n    flex-basis: 46px;\r\n  }\r\n  span:nth-of-type(3) {\r\n    flex-basis: 100px;\r\n  }\r\n  span:nth-of-type(4) {\r\n    flex-basis: 100px;\r\n  }\r\n`;\r\n\r\nexport const List = styled.ul``;\r\n\r\nexport const Item = styled.li`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 1rem;\r\n\r\n  .item-name {\r\n    margin-left: 0;\r\n    flex-basis: 214px;\r\n  }\r\n  .quantity {\r\n    flex-basis: 46px;\r\n    text-align: center;\r\n    padding-left: 0.25rem;\r\n    padding-right: 0.25rem;\r\n  }\r\n  .price {\r\n    flex-basis: 100px;\r\n  }\r\n  input {\r\n    margin-bottom: 0;\r\n    background: ${props => props.darkMode && props.theme.colors.black400};\r\n    border-color: ${props => props.darkMode && props.theme.colors.black300};\r\n    color: ${props => props.darkMode && \"white\"};\r\n  }\r\n  div {\r\n    margin-right: 0;\r\n    flex-basis: 100px;\r\n    font-weight: bold;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    color: ${props => (props.darkMode ? \"white\" : props.theme.colors.gray500)};\r\n    margin-bottom: 1.5rem;\r\n    height: 50px;\r\n  }\r\n`;\r\n\r\nexport const DeleteItem = styled.span`\r\n  color: ${props => props.theme.colors.gray500};\r\n  font-size: 1.25rem;\r\n  &:hover {\r\n    color: ${props => props.theme.colors.red};\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import { css } from \"styled-components\";\r\n\r\nconst sharedStyle = css`\r\n  padding: 1.25rem;\r\n  font-family: \"Spartan\", sans-serif;\r\n  font-weight: bold;\r\n  border: 1px solid ${props => props.theme.colors.white500};\r\n  border-radius: 0.25rem;\r\n  min-width: 240px;\r\n  font-size: 0.75rem;\r\n  &:active,\r\n  :focus {\r\n    outline: none;\r\n    border: 1px solid ${props => props.theme.colors.primary};\r\n    caret-color: ${props => props.theme.colors.primary};\r\n  }\r\n`;\r\n\r\nexport default sharedStyle;","import styled, { css } from \"styled-components\";\r\nimport InputStyle from \"./mixins/InputStyle.elements\";\r\n\r\nexport const FormInput = styled.input`\r\n  /* padding: 1.25rem;\r\n  font-family: \"Spartan\", sans-serif;\r\n  font-weight: bold;\r\n  border: 1px solid ${props => props.theme.colors.white500};\r\n  border-radius: 0.25rem;\r\n  min-width: 240px;\r\n  font-size: 0.75rem;\r\n  &:active,\r\n  :focus {\r\n    outline: none;\r\n    border: 1px solid ${props => props.theme.colors.primary};\r\n    caret-color: ${props => props.theme.colors.primary};\r\n  } */\r\n  ${InputStyle};\r\n  min-width: auto;\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/icon-plus.278c048a.svg\";","import styled, { css } from \"styled-components\";\r\n\r\nimport plusIcon from \"../../assets/icon-plus.svg\";\r\n\r\nexport const Button = styled.button`\r\n  border-radius: 100px;\r\n  padding: 16px 25px;\r\n  font-family: \"Spartan\", sans-serif;\r\n  font-weight: bold;\r\n  font-size: 0.75rem;\r\n  border: none;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: ${props => props.theme.colors.primary};\r\n  color: white;\r\n  letter-spacing: -0.25px;\r\n  transition: 0.25s;\r\n  &:active,\r\n  :focus {\r\n    outline: none;\r\n  }\r\n  &:hover,\r\n  :active,\r\n  :focus {\r\n    background-color: ${props => props.theme.colors.primaryLight};\r\n  }\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .plus-button {\r\n    height: 32px;\r\n    width: 32px;\r\n    background-color: white;\r\n    border-radius: 100px;\r\n    position: relative;\r\n    margin: -8px 15px -8px -17px;\r\n    &::after {\r\n      content: \" \";\r\n      height: 11px;\r\n      width: 11px;\r\n      background: cyan;\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      background: url(${plusIcon});\r\n      background-size: cover;\r\n    }\r\n  }\r\n\r\n  ${props => {\r\n    switch (props.size) {\r\n      case \"large\":\r\n        return css`\r\n          width: 350px;\r\n        `;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }}\r\n\r\n  ${props => {\r\n    switch (props.name) {\r\n      case \"new\":\r\n        return css`\r\n          padding-right: 20px;\r\n        `;\r\n      default:\r\n        break;\r\n    }\r\n  }}\r\n\r\n  ${props => {\r\n    switch (props.color) {\r\n      case \"white\":\r\n        return css`\r\n          background-color: ${props.theme.colors.white600};\r\n          color: ${props.theme.colors.blueGray};\r\n          &:hover {\r\n            background-color: ${props.theme.colors.white500};\r\n          }\r\n        `;\r\n      case \"black\":\r\n        return css`\r\n          background-color: ${props.theme.colors.black400};\r\n          color: ${props.theme.colors.white600};\r\n          &:hover {\r\n            background-color: ${props.theme.colors.black400};\r\n            color: ${props.theme.colors.gray500};\r\n          }\r\n        `;\r\n      case \"gray\":\r\n        return css`\r\n          background-color: ${props.theme.colors.gray400};\r\n          color: ${props.theme.colors.gray500};\r\n          &:hover {\r\n            background-color: ${props.theme.colors.black600};\r\n          }\r\n        `;\r\n      case \"red\":\r\n        return css`\r\n          background-color: ${props.theme.colors.red};\r\n          color: ${props.theme.colors.white600};\r\n          &:hover {\r\n            background-color: ${props.theme.colors.pink};\r\n          }\r\n        `;\r\n      default:\r\n        break;\r\n    }\r\n  }}\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDarkMode } from \"../../darkModeContext\";\r\n\r\nimport {\r\n  Container,\r\n  List,\r\n  TableHeaders,\r\n  Item,\r\n  DeleteItem\r\n} from \"./FormItemList.elements\";\r\nimport { FormInput } from \"../shared/FormInput.elements\";\r\nimport { Button } from \"../shared/Button.elements\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function FormItemList({ items, setItems }) {\r\n  const darkMode = useDarkMode();\r\n\r\n  const addItem = () => {\r\n    setItems(prevState => [\r\n      ...prevState,\r\n      { name: \"\", quantity: 0, price: 0, total: 0 }\r\n    ]);\r\n  };\r\n\r\n  const deleteItem = index => {\r\n    setItems(prevState => {\r\n      const result = [\r\n        ...prevState.slice(0, index),\r\n        ...prevState.slice(index + 1)\r\n      ];\r\n\r\n      return result;\r\n    });\r\n  };\r\n\r\n  const updateItem = e => {\r\n    const index = parseInt(e.target.getAttribute(\"data-index\"));\r\n    const fieldName = e.target.getAttribute(\"name\");\r\n    let updatedValue =\r\n      fieldName !== \"name\" ? parseInt(e.target.value) : e.target.value;\r\n\r\n    if (isNaN(updatedValue) && fieldName !== \"name\") updatedValue = 0;\r\n\r\n    setItems(prevState => {\r\n      let result = [];\r\n\r\n      for (let i = 0; i < prevState.length; i++) {\r\n        if (i === index) {\r\n          // Update object\r\n          let updatedObject = {\r\n            ...prevState[i],\r\n            [fieldName]: updatedValue\r\n          };\r\n          const updatedTotal = updatedObject.quantity * updatedObject.price;\r\n          updatedObject = { ...updatedObject, total: updatedTotal };\r\n\r\n          result.push(updatedObject);\r\n        } else {\r\n          result.push(prevState[i]);\r\n        }\r\n      }\r\n\r\n      return result;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <h2>Item List</h2>\r\n      <TableHeaders darkMode={darkMode}>\r\n        <span>Item Name</span>\r\n        <span>Qty.</span>\r\n        <span>Price</span>\r\n        <span>Total</span>\r\n      </TableHeaders>\r\n      <form>\r\n        <List>\r\n          {items.map((item, index) => {\r\n            return (\r\n              <Item key={index} darkMode={darkMode}>\r\n                <FormInput\r\n                  value={item.name}\r\n                  name=\"name\"\r\n                  className=\"item-name\"\r\n                  data-index={index}\r\n                  onChange={updateItem}\r\n                  placeholder=\"Item name\"\r\n                />\r\n                <FormInput\r\n                  value={item.quantity}\r\n                  name=\"quantity\"\r\n                  className=\"quantity\"\r\n                  data-index={index}\r\n                  onChange={updateItem}\r\n                />\r\n                <FormInput\r\n                  value={item.price}\r\n                  name=\"price\"\r\n                  className=\"price\"\r\n                  data-index={index}\r\n                  onChange={updateItem}\r\n                />\r\n                <div className=\"info-right\">\r\n                  <span>{item.total.toFixed(2)}</span>\r\n                  <DeleteItem onClick={() => deleteItem(index)}>\r\n                    <FontAwesomeIcon icon={faTrash} />\r\n                  </DeleteItem>\r\n                </div>\r\n              </Item>\r\n            );\r\n          })}\r\n        </List>\r\n      </form>\r\n      <Button color=\"white\" onClick={addItem} className=\"add-item\">\r\n        + Add New item\r\n      </Button>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nimport InputStyle from \"./mixins/InputStyle.elements\";\r\n\r\nexport const StyledDatePickerContainer = styled.div`\r\n  font-weight: bold;\r\n  position: relative;\r\n  .react-datepicker__input-container input {\r\n    ${InputStyle}\r\n    border-color: ${props =>\r\n      props.darkMode ? props.theme.colors.black300 : \"\"};\r\n    &:hover {\r\n      cursor: pointer;\r\n      border: 1px solid ${props => props.theme.colors.primary};\r\n    }\r\n  }\r\n  .react-datepicker {\r\n    margin-top: -1.5rem;\r\n    background-color: black;\r\n  }\r\n  .react-datepicker__header, .react-datepicker__navigation {\r\n    margin-top: 1rem;\r\n  }\r\n  .react-datepicker,\r\n  .react-datepicker__header {\r\n    border: none;\r\n    background-color: ${props =>\r\n      props.darkMode ? props.theme.colors.black300 : \"white\"}\r\n  }\r\n  .react-datepicker__month-container {\r\n    font-family: \"Spartan\", sans-serif;\r\n  }\r\n  .react-datepicker__day-names,\r\n  .react-datepicker__triangle {\r\n    display: none;\r\n  }\r\n  .react-datepicker__month {\r\n    margin-top: 2rem;\r\n  }\r\n  .react-datepicker__day {\r\n    color: ${props => props.darkMode && \"white\"};\r\n    &:hover {\r\n      background: transparent;\r\n      color: ${props => props.theme.colors.primary};\r\n    }\r\n    &:active,\r\n    :focus {\r\n      background: transparent;\r\n      color: ${props => props.theme.colors.primary};\r\n    }\r\n    &--disabled {\r\n      color: ${props => (props.darkMode ? \"#343854\" : \"\")};\r\n    }\r\n    &--selected {\r\n      background: transparent;\r\n      color: ${props => props.theme.colors.primary};\r\n    }\r\n  }\r\n\r\n  .calendar-icon {\r\n    position: absolute;\r\n    right: 1.25rem;\r\n    top: 1.75rem;\r\n    transform: translateY(-50%);\r\n    font-size: 1.25rem;\r\n    color: ${props => props.theme.colors.blueGray};\r\n    pointer-events: none;\r\n  }\r\n\r\n  .react-datepicker__current-month {\r\n    color: ${props => props.darkMode && \"white\"}\r\n  }\r\n`;\r\n\r\nexport const StyledDatePicker = styled(DatePicker)``;\r\n","import styled, { css } from \"styled-components\";\r\nimport { FormInput } from \"./FormInput.elements\";\r\nimport Select from \"react-select\";\r\n\r\nexport const StyledSelect = styled(Select)`\r\n  width: 100%;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  .css-yk16xz-control {\r\n    transition: none;\r\n    height: 52px;\r\n    background: ${props => props.darkMode && props.theme.colors.black400};\r\n    border-color: ${props => props.darkMode && props.theme.colors.black300};\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n      border: 1px solid ${props => props.theme.colors.primary};\r\n    }\r\n    &:active,\r\n    :focus {\r\n      border: 1px solid ${props => props.theme.colors.primary};\r\n      outline: none;\r\n    }\r\n    ${props => {\r\n      if (props.secondary) {\r\n        return css`\r\n          background: none;\r\n          border: 1px solid transparent;\r\n          &:hover {\r\n            border: 1px solid transparent;\r\n          }\r\n          &:focus {\r\n            background: none;\r\n          }\r\n        `;\r\n      }\r\n    }}\r\n  }\r\n  .css-1pahdxg-control {\r\n    height: 52px;\r\n    box-shadow: none;\r\n    border: 1px solid ${props => props.theme.colors.primary};\r\n    background: ${props => props.darkMode && props.theme.colors.black400};\r\n    border-color: ${props => props.darkMode && props.theme.colors.black300};\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n    &:active,\r\n    :focus {\r\n      border: 1px solid ${props => props.theme.colors.primary};\r\n      outline: none;\r\n    }\r\n    ${props => {\r\n      if (props.secondary) {\r\n        return css`\r\n          background: none;\r\n          &:hover {\r\n            border: 1px solid transparent;\r\n          }\r\n        `;\r\n      }\r\n    }}\r\n  }\r\n  .css-1uccc91-singleValue {\r\n    font-weight: bold;\r\n    color: ${props => props.darkMode && \"white\"};\r\n  }\r\n  .css-26l3qy-menu {\r\n    margin: 0;\r\n    margin-top: 1rem;\r\n    filter: drop-shadow(0 12px 0.75rem rgba(0, 0, 0, 0.025));\r\n    border-radius: 0.5rem;\r\n    ${props => {\r\n      if (props.custom) {\r\n        return css`\r\n          display: none;\r\n        `;\r\n      }\r\n    }}\r\n  }\r\n  .css-4ljt47-MenuList {\r\n    border: none;\r\n    border-radius: 0.5rem;\r\n    padding: 0;\r\n    font-weight: bold;\r\n    width: 100%;\r\n    > * {\r\n      background: ${props => props.darkMode && props.theme.colors.black400};\r\n      padding: 1.25rem;\r\n      &:not(:last-child) {\r\n        border-bottom: 1px solid\r\n          ${props =>\r\n            props.darkMode\r\n              ? props.theme.colors.black500\r\n              : props.theme.colors.white500};\r\n      }\r\n      &:hover {\r\n        color: ${props => props.theme.colors.primary};\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n  .css-1okebmr-indicatorSeparator {\r\n    display: none;\r\n  }\r\n  .css-g1d714-ValueContainer {\r\n    padding-left: 1.25rem;\r\n  }\r\n  .css-tlfecz-indicatorContainer {\r\n    ${props => {\r\n      if (props.secondary) {\r\n        return css`\r\n          color: ${props.theme.colors.primary};\r\n          transition: 1.25s;\r\n        `;\r\n      }\r\n    }}\r\n    ${props => {\r\n      if (props.customOpen) {\r\n        return css`\r\n          transform: rotate(180deg);\r\n          transition: 1.25s;\r\n        `;\r\n      } else {\r\n        return css`\r\n          transform: rotate(0deg);\r\n          transition: 1.25s;\r\n        `;\r\n      }\r\n    }}\r\n  }\r\n  .css-tj5bde-Svg {\r\n    color: ${props => props.theme.colors.primary};\r\n  }\r\n`;\r\n","import { css } from \"styled-components\";\r\n\r\nconst sharedStyle = css`\r\n  ::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n\r\n  ::-webkit-scrollbar-thumb {\r\n    background: ${props => props.theme.colors.white500};\r\n    border-radius: 10px;\r\n  }\r\n\r\n  ::-webkit-scrollbar-thumb:hover {\r\n    background: ${props => props.theme.colors.blueGrayLight};\r\n  }\r\n`;\r\n\r\nexport default sharedStyle;\r\n","import styled, { keyframes } from \"styled-components\";\r\nimport ScrollbarStyle from \"../shared/mixins/Scrollbar.elements\";\r\n\r\nconst openContainer = (leftStart, leftEnd) => keyframes`\r\n  from {\r\n    opacity: 0;\r\n    left: ${leftStart};\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    left: ${leftEnd};\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  left: 100px;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 615px;\r\n  background-color: ${props =>\r\n    props.darkMode ? props.theme.colors.black500 : \"white\"};\r\n  padding: 3.5rem;\r\n  padding-bottom: 6rem;\r\n  padding-right: 2.25rem;\r\n  border-bottom-right-radius: 1.25rem;\r\n  border-top-right-radius: 1.25rem;\r\n  z-index: 10;\r\n  animation: ${openContainer(\"-32rem\", \"6rem\")} 0.25s ease;\r\n\r\n  h4 {\r\n    color: ${props => props.theme.colors.primary};\r\n    margin-top: 3.5rem;\r\n    margin-bottom: 2rem;\r\n  }\r\n\r\n  label {\r\n    color: ${props => props.theme.colors.gray500};\r\n    font-weight: normal;\r\n    display: block;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n\r\n  input {\r\n    width: 100%;\r\n    margin-bottom: 1.5rem;\r\n  }\r\n  @media (max-width: 768px) {\r\n    left: 0;\r\n    padding-top: 10.25rem;\r\n    animation: ${openContainer(\"-32rem\", \"0rem\")} 0.25s ease;\r\n  }\r\n  @media (max-width: 700px) {\r\n    width: 100vw;\r\n  }\r\n`;\r\n\r\nexport const InvoiceForm = styled.form`\r\n  label {\r\n    color: ${props => (props.darkMode ? \"white\" : \"\")};\r\n  }\r\n  input {\r\n    background-color: ${props =>\r\n      props.darkMode ? props.theme.colors.black400 : \"\"};\r\n    border-color: ${props =>\r\n      props.darkMode ? props.theme.colors.black300 : \"\"};\r\n    color: ${props => (props.darkMode ? \"white\" : \"\")};\r\n  }\r\n`;\r\n\r\nexport const DarkBkg = styled.div`\r\n  height: 200vw;\r\n  width: 100vw;\r\n  content: \" \";\r\n  background: black;\r\n  position: absolute;\r\n  top: 0;\r\n  right: -100vw;\r\n  z-index: 10;\r\n  opacity: 0.5;\r\n  @media (max-width: 768px) {\r\n    bottom: 20px;\r\n  }\r\n  @media (max-width: 700px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  overflow: scroll;\r\n  height: 100%;\r\n  padding-right: 1.25rem;\r\n\r\n  ${ScrollbarStyle}\r\n  .form-row {\r\n    display: flex;\r\n    .select-wrapper {\r\n      width: 100%;\r\n    }\r\n  }\r\n  form > div {\r\n    > div {\r\n      margin: 0 0.75rem;\r\n      &:first-of-type {\r\n        margin-left: 0;\r\n      }\r\n      &:last-of-type {\r\n        margin-right: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst invoiceFormOptions = keyframes`\r\n  from {\r\n    bottom: -7rem;\r\n  }\r\n  to {\r\n    bottom: 0rem;\r\n  }\r\n`;\r\n\r\nexport const FormBottom = styled.div`\r\n  .form-error {\r\n    position: absolute;\r\n    z-index: 1000;\r\n    bottom: 3.5rem;\r\n    color: ${props => props.theme.colors.red};\r\n  }\r\n  .draft-warning {\r\n    position: absolute;\r\n    color: yellow;\r\n    width: 15rem;\r\n  }\r\n  .options .create-invoice-options,\r\n  .options .edit-invoice-options {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 100px;\r\n    z-index: 100;\r\n    width: 615px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 2rem 3.5rem;\r\n    animation: ${invoiceFormOptions} 0.25s ease-in-out;\r\n    background: ${props =>\r\n      props.darkMode ? props.theme.colors.black500 : \"white\"};\r\n    -webkit-box-shadow: -2px -25px 20px 0px rgba(0, 0, 0, 0.07);\r\n    box-shadow: -2px -25px 20px 0px rgba(0, 0, 0, 0.07);\r\n    border-top-right-radius: 1.25rem;\r\n    border-bottom-right-radius: 1.25rem;\r\n\r\n    .btns-right {\r\n      display: flex;\r\n      .save-as {\r\n        margin-right: 1rem;\r\n      }\r\n    }\r\n    @media (max-width: 768px) {\r\n      left: 0;\r\n    }\r\n    @media (max-width: 700px) {\r\n      width: 100vw;\r\n      left: 0;\r\n      border-radius: 0;\r\n    }\r\n  }\r\n\r\n  .edit-invoice-options__btns {\r\n    margin-left: auto;\r\n    display: flex;\r\n  }\r\n\r\n  .edit-invoice-options button:first-of-type {\r\n    margin-right: 0.5rem;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    .options .edit-invoice-options--draft {\r\n      text-align: center;\r\n      padding-top: 4rem;\r\n      .draft-warning {\r\n        top: 1rem;\r\n        left: 3.5rem;\r\n        right: 3.5rem;\r\n        width: auto;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { add, format } from \"date-fns\";\r\n\r\nconst validateInvoice = invoice => {\r\n  if (invoice.status === \"pending\" || invoice.status === \"paid\") {\r\n    // Check that all fields are filled in\r\n    for (const [key, value] of Object.entries(invoice)) {\r\n      if (key === \"items\") {\r\n        if (value.length === 0) {\r\n          throw new Error(\"Must have at least one item\");\r\n        } else {\r\n          // Make sure all items have a name\r\n          value.forEach(item => {\r\n            if (item.name.trim().length === 0) {\r\n              throw new Error(\"All items must have a name\");\r\n            }\r\n          });\r\n        }\r\n      } else if (key === \"clientAddress\" || key === \"senderAddress\") {\r\n        const addressValid = Object.values(value).every(\r\n          field => field.trim().length !== 0\r\n        );\r\n\r\n        if (!addressValid) {\r\n          throw new Error(\"Please fill out all fields\");\r\n        }\r\n      } else if (typeof value === \"string\" && value.trim().length === 0) {\r\n        throw new Error(\"Please fill out all fields\");\r\n      }\r\n    }\r\n  } else if (invoice.status !== \"draft\") {\r\n    throw new Error(\r\n      \"Submitted invoices must be either pending, paid, or draft\"\r\n    );\r\n  }\r\n  return invoice;\r\n};\r\n\r\n// Takes all the form values from the invoice form and formats it into a single object\r\nconst formatInvoice = (formValues, items, status) => {\r\n  const {\r\n    createdAt,\r\n    description,\r\n    paymentTerms,\r\n    clientName,\r\n    clientEmail\r\n  } = formValues;\r\n  const paymentDue = add(new Date(createdAt), { days: paymentTerms.value });\r\n  const senderAddress = {\r\n    street: formValues.fromStreet,\r\n    city: formValues.fromCity,\r\n    postCode: formValues.fromPostCode,\r\n    country: formValues.fromCountry\r\n  };\r\n  const clientAddress = {\r\n    street: formValues.clientStreet,\r\n    city: formValues.clientCity,\r\n    postCode: formValues.clientPostCode,\r\n    country: formValues.clientCountry\r\n  };\r\n  const total = items.reduce((acc, item) => {\r\n    return acc + item.total;\r\n  }, 0);\r\n\r\n  const newInvoice = {\r\n    items,\r\n    total,\r\n    senderAddress,\r\n    createdAt: format(createdAt, \"L-d-yyyy\"),\r\n    paymentDue: format(paymentDue, \"L-d-yyyy\"),\r\n    description,\r\n    clientName,\r\n    clientEmail,\r\n    status,\r\n    paymentTerms: paymentTerms.value,\r\n    clientAddress\r\n  };\r\n\r\n  return newInvoice;\r\n};\r\n\r\nconst helpers = { validateInvoice, formatInvoice };\r\n\r\nexport default helpers;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport { useDarkMode } from \"../../darkModeContext\";\r\nimport { useInvoiceUpdate } from \"../../InvoiceContext\";\r\n\r\nimport invoiceService from \"../../services/invoices\";\r\nimport FormItemList from \"../FormItemList/FormItemList\";\r\n\r\nimport { FormInput } from \"../shared/FormInput.elements\";\r\nimport { Button } from \"../shared/Button.elements\";\r\nimport {\r\n  StyledDatePickerContainer,\r\n  StyledDatePicker\r\n} from \"../shared/Datepicker.elements\";\r\nimport { StyledSelect as Select } from \"../shared/Dropdown.elements\";\r\nimport {\r\n  Container,\r\n  InvoiceForm,\r\n  DarkBkg,\r\n  Wrapper,\r\n  FormBottom\r\n} from \"./NewInvoiceForm.elements\";\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCalendarAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport helpers from \"./helpers\";\r\n\r\nconst netDays = [\r\n  { value: 1, label: \"Net 1 Day\" },\r\n  { value: 7, label: \"Net 7 Days\" },\r\n  { value: 14, label: \"Net 14 Days\" },\r\n  { value: 30, label: \"Net 30 Days\" }\r\n];\r\n\r\nexport default function NewInvoiceForm({\r\n  handleFormOpened,\r\n  setAllInvoices,\r\n  setInvoices,\r\n  editMode,\r\n  editedInvoice,\r\n  setStatus\r\n}) {\r\n  const [formValues, setFormValues] = useState({\r\n    fromStreet: editedInvoice ? editedInvoice.senderAddress.street : \"\",\r\n    fromCity: editedInvoice ? editedInvoice.senderAddress.city : \"\",\r\n    fromPostCode: editedInvoice ? editedInvoice.senderAddress.postCode : \"\",\r\n    fromCountry: editedInvoice ? editedInvoice.senderAddress.country : \"\",\r\n    clientName: editedInvoice?.clientName || \"\",\r\n    clientEmail: editedInvoice?.clientEmail || \"\",\r\n    clientStreet: editedInvoice ? editedInvoice.clientAddress.street : \"\",\r\n    clientCity: editedInvoice ? editedInvoice.clientAddress.city : \"\",\r\n    clientPostCode: editedInvoice ? editedInvoice.clientAddress.postCode : \"\",\r\n    clientCountry: editedInvoice ? editedInvoice.clientAddress.country : \"\",\r\n    description: editedInvoice?.description || \"\",\r\n    createdAt: new Date(),\r\n    paymentTerms: editedInvoice\r\n      ? {\r\n          label: `Net ${editedInvoice?.paymentTerms} Days`,\r\n          value: editedInvoice?.paymentTerms\r\n        }\r\n      : netDays[netDays.length - 1] // {label: string, value: int}\r\n  });\r\n\r\n  const [items, setItems] = useState(\r\n    editedInvoice\r\n      ? editedInvoice.items\r\n      : [\r\n          {\r\n            name: \"\",\r\n            quantity: 0,\r\n            price: 0,\r\n            total: 0\r\n          }\r\n        ]\r\n  );\r\n\r\n  const [formError, setFormError] = useState(\"All fields must be added\");\r\n\r\n  const darkMode = useDarkMode();\r\n  const updateInvoice = useInvoiceUpdate();\r\n\r\n  useEffect(() => {\r\n    setFormError(\"\");\r\n  }, [items, formValues]);\r\n\r\n  const handleFormInput = e => {\r\n    setFormValues(prevState => {\r\n      return { ...prevState, [e.target.name]: e.target.value };\r\n    });\r\n  };\r\n\r\n  const handleTerms = e => {\r\n    setFormValues(prevState => {\r\n      return { ...prevState, paymentTerms: e };\r\n    });\r\n  };\r\n\r\n  const handleDate = e => {\r\n    setFormValues(prevState => {\r\n      return { ...prevState, createdAt: e };\r\n    });\r\n  };\r\n\r\n  const handleFormSubmit = async status => {\r\n    const newInvoice = helpers.formatInvoice(formValues, items, status);\r\n\r\n    try {\r\n      const validatedInvoice = helpers.validateInvoice(newInvoice);\r\n      let serverGeneratedInvoice;\r\n\r\n      if (!localStorage.getItem(\"loggedUser\")) {\r\n        const prevGuestInvoices = JSON.parse(\r\n          localStorage.getItem(\"guestInvoices\")\r\n        );\r\n        const updatedGuestInvoices = [\r\n          ...prevGuestInvoices,\r\n          { ...newInvoice, _id: uniqid() }\r\n        ];\r\n        localStorage.setItem(\r\n          \"guestInvoices\",\r\n          JSON.stringify(updatedGuestInvoices)\r\n        );\r\n        setInvoices(updatedGuestInvoices);\r\n        setAllInvoices(updatedGuestInvoices);\r\n      } else {\r\n        serverGeneratedInvoice = await invoiceService.add(validatedInvoice);\r\n        setInvoices(prevState => [...prevState, serverGeneratedInvoice]);\r\n        setAllInvoices(prevState => [...prevState, serverGeneratedInvoice]);\r\n      }\r\n\r\n      handleFormOpened(false);\r\n    } catch (exception) {\r\n      setFormError(exception.message);\r\n    }\r\n  };\r\n\r\n  const handleEditInvoice = async () => {\r\n    const formattedInvoice = helpers.formatInvoice(\r\n      formValues,\r\n      items,\r\n      editedInvoice.status\r\n    );\r\n\r\n    try {\r\n      // Invoices that are pending or paid need to be validated first\r\n      const validatedInvoice =\r\n        editedInvoice.status !== \"draft\"\r\n          ? await helpers.validateInvoice(formattedInvoice)\r\n          : formattedInvoice;\r\n\r\n      let updatedInvoice = {\r\n        ...validatedInvoice,\r\n        ownerId: editedInvoice.ownerId,\r\n        _id: editedInvoice._id\r\n      };\r\n\r\n      if (localStorage.getItem(\"username\") !== null) {\r\n        // Update invoice in backend\r\n        const data = await invoiceService.updateInvoice(updatedInvoice);\r\n\r\n        if (editedInvoice.status === \"draft\" && data?.makePending) {\r\n          // makePending is defined when all fields are filled in\r\n          invoiceService.setStatus(editedInvoice, \"pending\");\r\n          updatedInvoice = { ...updatedInvoice, status: \"pending\" };\r\n          setStatus(\"pending\");\r\n        }\r\n      } else {\r\n        // update guest invoices\r\n        const invoiceId = updatedInvoice._id;\r\n        const updatedInvoices = JSON.parse(\r\n          localStorage.getItem(\"guestInvoices\")\r\n        ).map(invoice => {\r\n          if (invoiceId === invoice._id) {\r\n            return updatedInvoice;\r\n          }\r\n          return invoice;\r\n        });\r\n        localStorage.setItem(\"guestInvoices\", JSON.stringify(updatedInvoices));\r\n      }\r\n\r\n      // Update invoice in current view\r\n      updateInvoice(updatedInvoice);\r\n      // Persist updated invoice values when refreshing\r\n      window.localStorage.setItem(\r\n        \"currentInvoice\",\r\n        JSON.stringify(updatedInvoice)\r\n      );\r\n\r\n      handleFormOpened(false);\r\n    } catch (exception) {\r\n      setFormError(exception.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container darkMode={darkMode}>\r\n      <Wrapper>\r\n        <h2>\r\n          {editMode\r\n            ? `Edit #...${editedInvoice._id\r\n                .toUpperCase()\r\n                .substring(editedInvoice._id.length - 6)}`\r\n            : \"New Invoice\"}\r\n        </h2>\r\n        <InvoiceForm darkMode={darkMode}>\r\n          <h4>Bill From</h4>\r\n\r\n          <label htmlFor=\"fromStreet\">Street Address</label>\r\n          <FormInput\r\n            type=\"text\"\r\n            id=\"fromStreet\"\r\n            name=\"fromStreet\"\r\n            value={formValues.fromStreet}\r\n            onChange={handleFormInput}\r\n          />\r\n\r\n          <div className=\"form-row main\">\r\n            <div>\r\n              <label htmlFor=\"fromCity\">City</label>\r\n              <FormInput\r\n                type=\"text\"\r\n                id=\"fromCity\"\r\n                name=\"fromCity\"\r\n                value={formValues.fromCity}\r\n                onChange={handleFormInput}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"fromPostCode\">Post Code</label>\r\n              <FormInput\r\n                type=\"text\"\r\n                id=\"fromPostCode\"\r\n                name=\"fromPostCode\"\r\n                value={formValues.fromPostCode}\r\n                onChange={handleFormInput}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"fromCountry\">Country</label>\r\n              <FormInput\r\n                type=\"text\"\r\n                id=\"fromCountry\"\r\n                name=\"fromCountry\"\r\n                value={formValues.fromCountry}\r\n                onChange={handleFormInput}\r\n              />\r\n            </div>\r\n          </div>\r\n          <h4>Bill To</h4>\r\n          <label htmlFor=\"clientName\">Client's Name</label>\r\n          <FormInput\r\n            type=\"text\"\r\n            id=\"clientName\"\r\n            name=\"clientName\"\r\n            value={formValues.clientName}\r\n            onChange={handleFormInput}\r\n          />\r\n\r\n          <label htmlFor=\"clientEmail\">Client's Email</label>\r\n          <FormInput\r\n            type=\"text\"\r\n            id=\"clientEmail\"\r\n            name=\"clientEmail\"\r\n            value={formValues.clientEmail}\r\n            onChange={handleFormInput}\r\n          />\r\n\r\n          <label htmlFor=\"clientStreet\">Street Address</label>\r\n          <FormInput\r\n            type=\"text\"\r\n            id=\"clientStreet\"\r\n            name=\"clientStreet\"\r\n            value={formValues.clientStreet}\r\n            onChange={handleFormInput}\r\n          />\r\n\r\n          <div className=\"form-row main\">\r\n            <div>\r\n              <label htmlFor=\"clientCity\">City</label>\r\n              <FormInput\r\n                type=\"text\"\r\n                id=\"clientCity\"\r\n                name=\"clientCity\"\r\n                value={formValues.clientCity}\r\n                onChange={handleFormInput}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"clientPostCode\">Post Code</label>\r\n              <FormInput\r\n                type=\"text\"\r\n                id=\"clientPostCode\"\r\n                name=\"clientPostCode\"\r\n                value={formValues.clientPostCode}\r\n                onChange={handleFormInput}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"clientCountry\">Country</label>\r\n              <FormInput\r\n                type=\"text\"\r\n                id=\"clientCountry\"\r\n                name=\"clientCountry\"\r\n                value={formValues.clientCountry}\r\n                onChange={handleFormInput}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-row secondary\">\r\n            <div>\r\n              <label htmlFor=\"invoiceDate\">Invoice Date</label>\r\n              <StyledDatePickerContainer id=\"datepicker\" darkMode={darkMode}>\r\n                <StyledDatePicker\r\n                  selected={formValues.createdAt}\r\n                  onChange={date => handleDate(date)}\r\n                  minDate={new Date()}\r\n                  dateFormatCalendar={\"MMM yyyy\"}\r\n                  name=\"invoiceDate\"\r\n                  value={formValues.createdAt}\r\n                />\r\n                <FontAwesomeIcon\r\n                  icon={faCalendarAlt}\r\n                  className=\"calendar-icon\"\r\n                />\r\n              </StyledDatePickerContainer>\r\n            </div>\r\n            <div className=\"select-wrapper\">\r\n              <label htmlFor=\"paymentTerms\">Payment Terms</label>\r\n              <Select\r\n                options={netDays}\r\n                isSearchable={false}\r\n                value={formValues.paymentTerms}\r\n                name=\"paymentTerms\"\r\n                onChange={handleTerms}\r\n                darkMode={darkMode}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <label htmlFor=\"description\">Project Description</label>\r\n          <FormInput\r\n            type=\"text\"\r\n            id=\"description\"\r\n            name=\"description\"\r\n            value={formValues.description}\r\n            onChange={handleFormInput}\r\n          />\r\n        </InvoiceForm>\r\n        <FormItemList items={items} setItems={setItems} />\r\n      </Wrapper>\r\n\r\n      <FormBottom darkMode={darkMode}>\r\n        <p className=\"form-error\">{formError}</p>\r\n        <div className=\"options\">\r\n          {!editMode && (\r\n            <div className=\"create-invoice-options\">\r\n              <div>\r\n                {\" \"}\r\n                <Button color=\"white\" onClick={() => handleFormOpened(false)}>\r\n                  Discard\r\n                </Button>\r\n              </div>\r\n\r\n              <div className=\"btns-right\">\r\n                {\" \"}\r\n                <Button\r\n                  className=\"save-as\"\r\n                  color=\"black\"\r\n                  onClick={() => handleFormSubmit(\"draft\")}\r\n                >\r\n                  Save as Draft\r\n                </Button>\r\n                <Button onClick={() => handleFormSubmit(\"pending\")}>\r\n                  Save &#38; Send\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {editMode && (\r\n            <div>\r\n              <div\r\n                className={[\r\n                  `edit-invoice-options edit-invoice-options${\r\n                    editedInvoice.status === \"draft\" ? \"--draft\" : \"\"\r\n                  }`\r\n                ]}\r\n              >\r\n                {editedInvoice.status === \"draft\" && (\r\n                  <p className=\"draft-warning\">\r\n                    &bull; Invoice will remain as draft until all fields are\r\n                    filled and at least one item has been named\r\n                  </p>\r\n                )}\r\n                <div\r\n                  className={`edit-invoice-options__btns edit-invoice-options__btns${\r\n                    editedInvoice.status === \"draft\" ? \"--draft\" : \"\"\r\n                  }`}\r\n                >\r\n                  {\" \"}\r\n                  <Button color=\"white\" onClick={() => handleFormOpened(false)}>\r\n                    Cancel\r\n                  </Button>\r\n                  <Button onClick={() => handleEditInvoice()}>\r\n                    Save Changes\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </FormBottom>\r\n      <DarkBkg></DarkBkg>\r\n    </Container>\r\n  );\r\n}\r\n","import styled, { css, keyframes } from \"styled-components\";\r\nimport { StyledSelect } from \"../shared/Dropdown.elements\";\r\nimport { Button } from \"../shared/Button.elements\";\r\nimport ScrollbarStyle from \"../shared/mixins/Scrollbar.elements\";\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 10;\r\n  padding-left: 100px;\r\n\r\n  @media (max-width: 768px) {\r\n    padding-left: 0;\r\n    padding-top: 60px;\r\n  }\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  width: 90%;\r\n  max-width: 1200px;\r\n  padding: 80px 10px 0 10px;\r\n  margin: 0 auto;\r\n  height: 100vh;\r\n  overflow: scroll;\r\n  ${ScrollbarStyle}\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: 130px;\r\n  > div:nth-of-type(2) {\r\n    align-items: flex-start;\r\n    display: flex;\r\n    button {\r\n      margin-left: 2.5rem;\r\n    }\r\n    .select-container {\r\n      width: 193px;\r\n      margin-right: -52px;\r\n    }\r\n  }\r\n  .invoice-count {\r\n    font-weight: 500;\r\n    color: ${props =>\r\n      props.darkMode\r\n        ? props.theme.colors.white500\r\n        : props.theme.colors.gray500};\r\n    margin-top: 0.625rem;\r\n  }\r\n`;\r\n\r\nconst openOptions = keyframes`\r\n  from {\r\n    /* transform: rotate(0deg); */\r\n    opacity: 0;\r\n    margin-top: -6px;\r\n  }\r\n\r\n  to {\r\n    /* transform: rotate(360deg); */\r\n    opacity: 1;\r\n    margin-top: 12px;\r\n  }\r\n`;\r\n\r\nexport const Options = styled.div`\r\n  width: 192px;\r\n  height: 128px;\r\n  border-radius: 0.5rem;\r\n  margin-left: -12px;\r\n  margin-top: 12px;\r\n  padding-left: 1.5rem;\r\n  -webkit-box-shadow: 5px 5px 15px 3px rgba(0, 0, 0, 0.12);\r\n  box-shadow: 5px 5px 15px 3px rgba(0, 0, 0, 0.12);\r\n  background: ${props => props.darkMode ? props.theme.colors.black400 : \"white\"};\r\n  border-color: ${props => props.darkMode && props.theme.colors.black300};\r\n\r\n  flex-direction: column;\r\n\r\n  @media (max-width: 630px) {\r\n    margin-left: 18px;\r\n    width: 140px;\r\n  }\r\n\r\n  [class=\"closing\"] {\r\n    opacity: 0;\r\n    transition: 0.5s;\r\n    background-color: blue;\r\n  }\r\n\r\n  .closing {\r\n    opacity: 0;\r\n    transition: 0.5s;\r\n    background-color: blue;\r\n  }\r\n\r\n  input[type=\"checkbox\"] {\r\n    background-color: blue;\r\n  }\r\n  > div {\r\n    border: 1px dashed;\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n  }\r\n\r\n  /* The container */\r\n  .container {\r\n    display: block;\r\n    position: relative;\r\n    padding-left: 29px;\r\n    margin-bottom: 12px;\r\n    cursor: pointer;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n  }\r\n\r\n  /* Hide the browser's default checkbox */\r\n  .container input {\r\n    position: absolute;\r\n    left: 0;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n    height: 0;\r\n    width: 0;\r\n  }\r\n\r\n  /* Create a custom checkbox */\r\n  .checkmark {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 16px;\r\n    width: 16px;\r\n    background-color: ${props => props.theme.colors.white500};\r\n    border-radius: 2px;\r\n  }\r\n\r\n  .container:hover input ~ .checkmark {\r\n    border: 1px solid ${props => props.theme.colors.primary};\r\n  }\r\n\r\n  .container input ~ .checkmark {\r\n    border: 1px solid transparent;\r\n  }\r\n\r\n  .container input:checked ~ .checkmark {\r\n    background-color: ${props => props.theme.colors.primary};\r\n  }\r\n\r\n  /* Create the checkmark/indicator (hidden when not checked) */\r\n  .checkmark:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    display: none;\r\n  }\r\n\r\n  /* Show the checkmark when checked */\r\n  .container input:checked ~ .checkmark:after {\r\n    display: block;\r\n  }\r\n\r\n  .container .checkmark:after {\r\n    left: 5px;\r\n    top: 1.3px;\r\n    width: 3px;\r\n    height: 9px;\r\n    border: solid white;\r\n    border-width: 0 2px 2px 0;\r\n    -webkit-transform: rotate(45deg);\r\n    -ms-transform: rotate(45deg);\r\n    transform: rotate(45deg);\r\n  }\r\n\r\n  .draft {\r\n    top: 24px;\r\n  }\r\n\r\n  .pending {\r\n    top: 28px;\r\n  }\r\n\r\n  .paid {\r\n    top: 32px;\r\n  }\r\n\r\n  /* Handle open/close animation*/\r\n\r\n  animation: ${openOptions} 0.25s linear;\r\n  transition: 0.25s;\r\n  position: relative;\r\n\r\n  ${props => {\r\n    if (props.opened) {\r\n      return css`\r\n        display: flex;\r\n        z-index: 10000;\r\n      `;\r\n    } else {\r\n      return css`\r\n        opacity: 0;\r\n        margin-top: -6px;\r\n        z-index: -10000;\r\n      `;\r\n    }\r\n  }}\r\n`;\r\n\r\nexport const Select = styled(StyledSelect)`\r\n  .css-yk16xz-control,\r\n  .css-1pahdxg-control {\r\n    width: 154px;\r\n  }\r\n  .css-2b097c-container {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nexport const StyledButton = styled(Button)`\r\n  align-self: end;\r\n`;\r\n\r\nexport const CustomDropdown = styled.div`\r\n  margin-top: 7px;\r\n  margin-right: -37px;\r\n  @media (max-width: 630px) {\r\n    margin-right: -66px;\r\n  }\r\n`;\r\n\r\nexport const CustomDropdownHeader = styled.div`\r\n  padding: 10px 0;\r\n  font-weight: bold;\r\n  margin-left: -10px;\r\n  width: 190px;\r\n  text-align: center;\r\n\r\n  .angle-icon {\r\n    margin-left: 15px;\r\n    transition: 0.25s;\r\n    backface-visibility: hidden;\r\n    color: ${props => props.theme.colors.primary};\r\n\r\n    ${props => {\r\n      if (props.opened) {\r\n        return css`\r\n          transform: rotate(180deg);\r\n        `;\r\n      } else {\r\n        return css`\r\n          transform: rotate(0deg);\r\n        `;\r\n      }\r\n    }}\r\n  }\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport invoiceService from \"../../services/invoices\";\r\n\r\nimport useScreenWidth from \"../custom-hooks/useScreenWidth\";\r\nimport { useDarkMode } from \"../../darkModeContext\";\r\n\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\nimport InvoicesList from \"../InvoicesList/InvoicesList\";\r\nimport NewInvoiceForm from \"../NewInvoiceForm/NewInvoiceForm\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport {\r\n  Container,\r\n  Wrapper,\r\n  Header,\r\n  Options,\r\n  Select,\r\n  StyledButton,\r\n  CustomDropdown,\r\n  CustomDropdownHeader\r\n} from \"./InvoicesView.elements\";\r\nimport { Button } from \"../shared/Button.elements\";\r\n\r\nexport default function InvoicesView() {\r\n  const [filterSelectOpen, setFilterSelectOpen] = useState(false);\r\n  const [allInvoices, setAllInvoices] = useState([]);\r\n  const [invoices, setInvoices] = useState([]);\r\n  const [filters, setFilters] = useState([\"draft\", \"pending\", \"paid\"]);\r\n  const [selectOpened, setSelectOpened] = useState(false);\r\n  const [formOpened, setFormOpened] = useState(false);\r\n\r\n  let optionsRef = useRef(null);\r\n\r\n  const darkMode = useDarkMode();\r\n\r\n  const handleFilterSelectOpen = () => {\r\n    if (!selectOpened) {\r\n      setSelectOpened(true);\r\n    }\r\n    setFilterSelectOpen(prevState => !prevState);\r\n  };\r\n\r\n  const width = useScreenWidth();\r\n\r\n  const handleCloseDropdown = e => {\r\n    try {\r\n      if (\r\n        e.target !== optionsRef.current &&\r\n        filterSelectOpen &&\r\n        !optionsRef.current.contains(e.target)\r\n      ) {\r\n        setFilterSelectOpen(false);\r\n      }\r\n    } catch (exception) {\r\n      setFilterSelectOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"click\", handleCloseDropdown);\r\n    return () => window.removeEventListener(\"click\", handleCloseDropdown);\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchInvoices = async () => {\r\n      if (localStorage.getItem(\"loggedUser\")) {\r\n        const invoices = await invoiceService.getInvoices();\r\n        setInvoices(invoices);\r\n        setAllInvoices(invoices);\r\n      } else {\r\n        // Set up guest invoices\r\n        if (!localStorage.getItem(\"guestInvoices\")) {\r\n          const starterInvoices = await invoiceService.getGuestInvoices();\r\n          localStorage.setItem(\r\n            \"guestInvoices\",\r\n            JSON.stringify(starterInvoices)\r\n          );\r\n          setInvoices(starterInvoices);\r\n          setAllInvoices(starterInvoices);\r\n        } else {\r\n          const guestInvoices = await JSON.parse(\r\n            localStorage.getItem(\"guestInvoices\")\r\n          );\r\n          setInvoices(guestInvoices);\r\n          setAllInvoices(guestInvoices);\r\n        }\r\n      }\r\n    };\r\n    fetchInvoices();\r\n  }, []);\r\n\r\n  // Filter invoices based off status\r\n  useEffect(() => {\r\n    setInvoices(\r\n      allInvoices.filter(invoice => {\r\n        return filters.includes(invoice.status);\r\n      })\r\n    );\r\n  }, [filters]);\r\n\r\n  const handleFilterCheckbox = e => {\r\n    // Toggle filter\r\n    if (filters.includes(e.target.value)) {\r\n      setFilters(prevState =>\r\n        prevState.filter(filterValue => filterValue !== e.target.value)\r\n      );\r\n    } else {\r\n      setFilters(prevState => [...prevState, e.target.value]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Sidebar />\r\n      <Container>\r\n        <Wrapper>\r\n          <Header darkMode={useDarkMode()}>\r\n            <div>\r\n              <h1>Invoices</h1>\r\n              <p className=\"invoice-count\">\r\n                {invoices.length > 0\r\n                  ? `There are ${invoices.length} total invoices`\r\n                  : \"No invoices\"}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <CustomDropdown>\r\n                <CustomDropdownHeader\r\n                  opened={filterSelectOpen}\r\n                  onClick={handleFilterSelectOpen}\r\n                >\r\n                  {width > 630 ? \"Filter by status\" : \"Filter\"}{\" \"}\r\n                  <FontAwesomeIcon icon={faAngleDown} className=\"angle-icon\" />\r\n                </CustomDropdownHeader>\r\n                {selectOpened && (\r\n                  <Options\r\n                    opened={filterSelectOpen}\r\n                    ref={optionsRef}\r\n                    darkMode={darkMode}\r\n                  >\r\n                    <label className=\"container draft\">\r\n                      Draft\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        id=\"filter-draft\"\r\n                        name=\"filter-draft\"\r\n                        value=\"draft\"\r\n                        checked={filters.includes(\"draft\")}\r\n                        onChange={e => handleFilterCheckbox(e)}\r\n                      />\r\n                      <span className=\"checkmark\"></span>\r\n                    </label>\r\n                    <label className=\"container pending\">\r\n                      Pending\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        id=\"filter-pending\"\r\n                        name=\"filter-pending\"\r\n                        value=\"pending\"\r\n                        checked={filters.includes(\"pending\")}\r\n                        onChange={e => handleFilterCheckbox(e)}\r\n                      />\r\n                      <span className=\"checkmark\"></span>\r\n                    </label>\r\n                    <label className=\"container paid\">\r\n                      Paid\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        id=\"filter-paid\"\r\n                        name=\"filter-paid\"\r\n                        value=\"paid\"\r\n                        checked={filters.includes(\"paid\")}\r\n                        onChange={e => handleFilterCheckbox(e)}\r\n                      />\r\n                      <span className=\"checkmark\"></span>\r\n                    </label>\r\n                  </Options>\r\n                )}\r\n              </CustomDropdown>\r\n\r\n              <StyledButton name=\"new\" onClick={() => setFormOpened(true)}>\r\n                <div className=\"plus-button\"></div>\r\n                <span>{width >= 550 ? \"New Invoice\" : \"New\"}</span>\r\n              </StyledButton>\r\n            </div>\r\n          </Header>\r\n          <InvoicesList invoices={invoices} handleSelectInvoice />\r\n          {formOpened && (\r\n            <NewInvoiceForm\r\n              handleFormOpened={setFormOpened}\r\n              setAllInvoices={setAllInvoices}\r\n              setInvoices={setInvoices}\r\n            />\r\n          )}\r\n        </Wrapper>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.li`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 1.5rem;\r\n  font-weight: bold;\r\n\r\n  > * {\r\n    flex: 1;\r\n  }\r\n  .item-name {\r\n    flex: 2;\r\n  }\r\n  .item-quantity {\r\n    text-align: center;\r\n  }\r\n  .item-price,\r\n  .item-total {\r\n    text-align: right;\r\n  }\r\n  .item-total {\r\n    color: ${props => (props.darkMode ? \"white\" : \"black\")};\r\n  }\r\n`;\r\n\r\nexport const MobileItem = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  .item-name {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    flex: 1;\r\n  }\r\n\r\n  .item-total {\r\n    flex: initial;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport useScreenWidth from \"../custom-hooks/useScreenWidth\";\r\nimport { useDarkMode } from \"../../darkModeContext\";\r\n\r\nimport { Container, MobileItem } from \"./Item.elements\";\r\n\r\nexport default function Item({ item }) {\r\n  const width = useScreenWidth();\r\n  const darkMode = useDarkMode();\r\n\r\n  return (\r\n    <Container darkMode={darkMode}>\r\n      {width >= 701 && (\r\n        <>\r\n          <h3 className=\"item-name\">{item.name}</h3>\r\n          <span className=\"item-quantity\">{item.quantity}</span>\r\n          <span className=\"item-price\">$ {item.price.toFixed(2)}</span>\r\n          <span className=\"item-total\">$ {item.total.toFixed(2)}</span>\r\n        </>\r\n      )}\r\n\r\n      {width < 701 && (\r\n        <MobileItem darkMode={darkMode}>\r\n          <div className=\"item-name\">\r\n            <h4>{item.name}</h4>\r\n            <span>\r\n              {item.quantity} x $ {item.price.toFixed(2)}\r\n            </span>\r\n          </div>\r\n          <span className=\"item-total\">$ {item.total.toFixed(2)}</span>\r\n        </MobileItem>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 1.5rem;\r\n\r\n  > * {\r\n    padding: 3rem;\r\n  }\r\n  @media (max-width: 700px) {\r\n    > * {\r\n      padding: 1.5rem;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ListWrapper = styled.div`\r\n  border-top-left-radius: 0.5rem;\r\n  border-top-right-radius: 0.5rem;\r\n  background-color: ${props =>\r\n    props.darkMode ? props.theme.colors.black300 : \"#f5f5f5\"};\r\n  div {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    > * {\r\n      flex: 1;\r\n      color: ${props =>\r\n        props.darkMode\r\n          ? props.theme.colors.blueGrayLight\r\n          : props.theme.colors.gray500};\r\n    }\r\n    span:nth-of-type(1) {\r\n      flex: 2;\r\n    }\r\n    span:nth-of-type(2) {\r\n      text-align: center;\r\n    }\r\n    span:nth-of-type(3),\r\n    span:nth-of-type(4) {\r\n      text-align: right;\r\n    }\r\n  }\r\n  @media (max-width: 700px) {\r\n    padding-top: 0;\r\n    > div:nth-of-type(1) {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Total = styled.div`\r\n  background-color: ${props =>\r\n    props.darkMode ? props.theme.colors.black600 : props.theme.colors.gray400};\r\n  color: white;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom-left-radius: 0.5rem;\r\n  border-bottom-right-radius: 0.5rem;\r\n  .amt-due {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nexport const List = styled.ul``;\r\n","import React from \"react\";\r\nimport useScreenWidth from \"../custom-hooks/useScreenWidth\";\r\nimport { usedarkMode, useDarkMode } from \"../../darkModeContext\";\r\n\r\nimport Item from \"../Item/Item\";\r\n\r\nimport {\r\n  Container,\r\n  ListWrapper,\r\n  Header,\r\n  Total,\r\n  List\r\n} from \"./ItemList.elements\";\r\n\r\nexport default function ItemList({ items, total }) {\r\n  const width = useScreenWidth();\r\n  const darkMode = useDarkMode();\r\n\r\n  return (\r\n    <Container>\r\n      <ListWrapper darkMode={darkMode}>\r\n        <div className=\"header\">\r\n          <span>Item Name</span>\r\n          <span>QTY.</span>\r\n          <span>Price</span>\r\n          <span>Total</span>\r\n        </div>\r\n        <List>\r\n          {items.map((item, key) => {\r\n            return <Item item={item} key={key} />;\r\n          })}\r\n        </List>\r\n      </ListWrapper>\r\n      <Total darkMode={darkMode}>\r\n        <span className=\"amt-due\">\r\n          {width >= 701 ? \"Amount Due\" : \"Grand Total\"}\r\n        </span>\r\n        <h2>$ {total.toFixed(2)}</h2>\r\n      </Total>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { Status } from \"../Invoice/Invoice.elements\";\r\nimport ScrollbarStyle from \"../shared/mixins/Scrollbar.elements\";\r\nimport Modal from \"react-modal\";\r\n\r\nexport const StyledStatus = styled(Status)`\r\n  span {\r\n    background-color: ${props => {\r\n      switch (props.status) {\r\n        case \"paid\":\r\n          return props.darkMode ? \"#1f2b3f\" : \"\";\r\n        case \"pending\":\r\n          return props.darkMode ? \"2b2736\" : \"\";\r\n        default:\r\n          break;\r\n      }\r\n    }};\r\n  }\r\n  @media (max-width: 700px) {\r\n    position: absolute;\r\n    top: 3rem;\r\n    right: 3rem;\r\n    bottom: none;\r\n    height: 50px;\r\n    z-index: 10000;\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  top: 2rem;\r\n  bottom: 3.75rem;\r\n  left: 0;\r\n  z-index: 10;\r\n  padding-left: 6.25rem;\r\n  padding-right: 1rem;\r\n  width: 90%;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  overflow: scroll;\r\n  overflow-x: hidden;\r\n  margin-top: 3.75rem;\r\n\r\n  ${ScrollbarStyle}\r\n\r\n  @media (max-width: 768px) {\r\n    padding-left: 0;\r\n    padding-top: 0;\r\n    top: 5rem;\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    bottom: 8.75rem;\r\n    padding-top: 0;\r\n\r\n    left: 1rem;\r\n    right: 1rem;\r\n    width: auto;\r\n  }\r\n`;\r\n\r\nexport const GoBack = styled.div`\r\n  position: absolute;\r\n  top: 3.75rem;\r\n  left: 6rem;\r\n  right: 0;\r\n  z-index: 10;\r\n  /* border: 2px dashed red; */\r\n  > div {\r\n    max-width: 1084px;\r\n    /* border: 2px dashed blue; */\r\n    margin: 0 auto;\r\n    width: 87.5%;\r\n    a {\r\n      text-decoration: none;\r\n      font-weight: bold;\r\n      color: ${props => props.theme.colors.black600};\r\n\r\n      span {\r\n        color: ${props => (props.darkMode ? \"white\" : \"black\")};\r\n      }\r\n      &:visited {\r\n        color: ${props => props.theme.colors.black600};\r\n      }\r\n    }\r\n  }\r\n\r\n  .fa-chevron-left {\r\n    color: ${props => props.theme.colors.primary};\r\n    margin-right: 1rem;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    left: 0;\r\n    top: 6.25rem;\r\n  }\r\n  @media (max-width: 700px) {\r\n    > div {\r\n      margin: 0;\r\n      margin-left: 1rem;\r\n      a {\r\n        padding: 1rem 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const InvoiceActions = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 0.5rem;\r\n  margin-bottom: 1.25rem;\r\n  padding: 1.5rem 2rem;\r\n  -webkit-box-shadow: 0px 2px 5px 1px rgba(0, 0, 0, 0.03);\r\n  box-shadow: 0px 2px 5px 1px rgba(0, 0, 0, 0.03);\r\n  border-radius: 0.5rem;\r\n  background-color: ${props =>\r\n    props.darkMode ? props.theme.colors.black400 : \"white\"};\r\n\r\n  > div:nth-of-type(1) {\r\n    display: flex;\r\n\r\n    align-items: center;\r\n  }\r\n  > div:nth-of-type(2) {\r\n    display: flex;\r\n  }\r\n  button {\r\n    margin-left: 0.5rem;\r\n  }\r\n  .status {\r\n    margin-left: 1rem;\r\n  }\r\n  @media (max-width: 700px) {\r\n    justify-content: center;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 10;\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nexport const InvoiceInfo = styled.div`\r\n  /* border: 3px dashed; */\r\n  padding: 3.25rem;\r\n  -webkit-box-shadow: 0px 2px 5px 1px rgba(0, 0, 0, 0.03);\r\n  box-shadow: 0px 2px 5px 1px rgba(0, 0, 0, 0.03);\r\n  border-radius: 0.5rem;\r\n  position: relative;\r\n  background-color: ${props =>\r\n    props.darkMode ? props.theme.colors.black400 : \"white\"};\r\n\r\n  > * {\r\n    display: flex;\r\n  }\r\n  span {\r\n    display: block;\r\n    line-height: 1.125rem;\r\n    color: ${props =>\r\n      props.darkMode\r\n        ? props.theme.colors.blueGrayLight\r\n        : props.theme.colors.gray500};\r\n  }\r\n  h2 {\r\n    margin-top: 0.625rem;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  .invoice-id {\r\n    margin-top: 0;\r\n\r\n    span {\r\n      display: inline;\r\n    }\r\n  }\r\n  > div:nth-of-type(1) {\r\n    justify-content: space-between;\r\n    .sender-address {\r\n      text-align: right;\r\n    }\r\n  }\r\n  > div:nth-of-type(2) {\r\n    margin-top: 1.5rem;\r\n    flex-wrap: wrap;\r\n    div:nth-of-type(1) {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      h2 {\r\n        margin-bottom: 0;\r\n      }\r\n    }\r\n    div:nth-of-type(1),\r\n    div:nth-of-type(2) {\r\n      margin-right: 4rem;\r\n      margin-bottom: 2rem;\r\n    }\r\n  }\r\n  .break {\r\n    flex-basis: 100%;\r\n    height: 2rem;\r\n  }\r\n  @media (max-width: 700px) {\r\n    .invoice-id {\r\n      font-size: 0.75rem;\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    > div:nth-of-type(1) {\r\n      flex-direction: column;\r\n\r\n      .sender-address {\r\n        text-align: left;\r\n        margin-top: 1.5rem;\r\n      }\r\n    }\r\n\r\n    > div:nth-of-type(2) {\r\n      justify-content: space-between;\r\n      div:nth-of-type(1),\r\n      div:nth-of-type(2) {\r\n        margin-right: 0;\r\n        margin-bottom: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const StyledModal = styled(Modal)`\r\n  top: 50%;\r\n  left: 50%;\r\n  right: auto;\r\n  bottom: auto;\r\n  margin-right: -50%;\r\n  transform: translate(-50%, -50%);\r\n  position: absolute;\r\n  z-index: 100000;\r\n  background-color: ${props =>\r\n    props.darkMode ? props.theme.colors.black400 : \"white\"};\r\n  border-radius: 0.5rem;\r\n  padding: 3.25rem;\r\n  max-width: 480px;\r\n\r\n  h2 {\r\n    font-size: 1.5rem;\r\n    line-height: 2rem;\r\n    margin-bottom: 1rem;\r\n    color: ${props => props.darkMode && \"white\"};\r\n  }\r\n\r\n  p {\r\n    color: ${props =>\r\n      props.darkMode\r\n        ? props.theme.colors.white500\r\n        : props.theme.colors.gray500};\r\n    line-height: 1.375rem;\r\n  }\r\n\r\n  .modal-buttons {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    .delete-button {\r\n      margin-left: 0.75rem;\r\n    }\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect, Link, useHistory } from \"react-router-dom\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport { useInvoice, useInvoiceUpdate } from \"../../InvoiceContext\";\r\nimport { useDarkMode } from \"../../darkModeContext\";\r\n\r\nimport _ from \"lodash\";\r\nimport { format } from \"date-fns\";\r\nimport invoiceService from \"../../services/invoices\";\r\n\r\nimport useScreenWidth from \"../custom-hooks/useScreenWidth\";\r\n\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\nimport NewInvoiceForm from \"../NewInvoiceForm/NewInvoiceForm\";\r\nimport ItemList from \"../ItemList/ItemList\";\r\n\r\nimport { Button } from \"../shared/Button.elements\";\r\nimport {\r\n  Container,\r\n  GoBack,\r\n  InvoiceActions,\r\n  InvoiceInfo,\r\n  StyledStatus,\r\n  StyledModal\r\n} from \"./SingleInvoiceView.elements\";\r\nimport { Status } from \"../Invoice/Invoice.elements\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faChevronLeft, faCircle } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function SingleInvoiceView() {\r\n  let invoice = useInvoice();\r\n  const updateInvoice = useInvoiceUpdate();\r\n  const darkMode = useDarkMode();\r\n\r\n  if (!invoice) {\r\n    invoice = JSON.parse(window.localStorage.getItem(\"currentInvoice\"));\r\n  }\r\n\r\n  const width = useScreenWidth();\r\n  const history = useHistory();\r\n\r\n  // Save current invoice to local storage so it persists between refreshes\r\n  useState(() => {\r\n    window.localStorage.setItem(\"currentInvoice\", JSON.stringify(invoice));\r\n  }, [invoice]);\r\n\r\n  const [status, setStatus] = useState(invoice.status);\r\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\r\n  const [editInvoiceOpen, setEditInvoiceOpen] = useState(false);\r\n\r\n  if (invoice === null) {\r\n    return <Redirect to=\"/invoices\" />;\r\n  }\r\n\r\n  const toggleStatus = () => {\r\n    // Toggle invoice status between paid/pending\r\n    setStatus(prevState => {\r\n      const updatedStatus = prevState === \"paid\" ? \"pending\" : \"paid\";\r\n      const updatedInvoice = { ...invoice, status: updatedStatus };\r\n\r\n      // Update context with the new status and store it in localStorage\r\n      updateInvoice(updatedInvoice);\r\n      window.localStorage.setItem(\r\n        \"currentInvoice\",\r\n        JSON.stringify(updatedInvoice)\r\n      );\r\n\r\n      return updatedStatus;\r\n    });\r\n\r\n    if (localStorage.getItem(\"loggedUser\")) {\r\n      invoiceService.toggleStatus(invoice);\r\n    } else {\r\n      const currentInvoiceId = invoice._id;\r\n      const updatedGuestInvoices = JSON.parse(\r\n        localStorage.getItem(\"guestInvoices\")\r\n      ).map(invoice => {\r\n        if (invoice._id === currentInvoiceId) {\r\n          if (invoice.status === \"pending\") {\r\n            return { ...invoice, status: \"paid\" };\r\n          } else {\r\n            return { ...invoice, status: \"pending\" };\r\n          }\r\n        }\r\n        return invoice;\r\n      });\r\n\r\n      localStorage.setItem(\r\n        \"guestInvoices\",\r\n        JSON.stringify(updatedGuestInvoices)\r\n      );\r\n    }\r\n  };\r\n\r\n  const deleteInvoice = async () => {\r\n    if (localStorage.getItem(\"loggedUser\")) {\r\n      await invoiceService.deleteInvoice(invoice);\r\n      history.push(\"/invoices\");\r\n    } else {\r\n      const guestInvoices = JSON.parse(localStorage.getItem(\"guestInvoices\"));\r\n\r\n      const updatedGuestInvoices = guestInvoices.filter(guestInvoice => {\r\n        return guestInvoice._id !== invoice._id;\r\n      });\r\n\r\n      localStorage.setItem(\r\n        \"guestInvoices\",\r\n        JSON.stringify(updatedGuestInvoices)\r\n      );\r\n      history.push(\"/invoices\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Sidebar />\r\n      <StyledModal\r\n        isOpen={deleteModalOpen}\r\n        onRequestClose={() => setDeleteModalOpen(false)}\r\n        contentLabel=\"Example Modal\"\r\n        ariaHideApp={false}\r\n        darkMode={darkMode}\r\n      >\r\n        <h2>Confirm Deletion</h2>\r\n        <p>\r\n          Are you sure you want to delete invoice #{invoice._id}? This action\r\n          cannot be undone.\r\n        </p>\r\n        <div className=\"modal-buttons\">\r\n          <Button color=\"white\" onClick={() => setDeleteModalOpen(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button color=\"red\" className=\"delete-button\" onClick={deleteInvoice}>\r\n            Delete\r\n          </Button>\r\n        </div>\r\n      </StyledModal>\r\n      <GoBack darkMode={darkMode}>\r\n        <div>\r\n          <Link to=\"/invoices\">\r\n            <FontAwesomeIcon icon={faChevronLeft} className=\"fa-chevron-left\" />\r\n            <span> Go Back</span>\r\n          </Link>\r\n        </div>\r\n      </GoBack>\r\n      <Container>\r\n        {width >= 701 && (\r\n          <InvoiceActions darkMode={darkMode}>\r\n            <div>\r\n              <span>Status</span>\r\n              <StyledStatus\r\n                status={status}\r\n                className=\"status\"\r\n                darkMode={darkMode}\r\n              >\r\n                <span>\r\n                  <FontAwesomeIcon icon={faCircle} className=\"fa-circle\" />\r\n                  {_.capitalize(status)}\r\n                </span>\r\n              </StyledStatus>\r\n            </div>\r\n            <div>\r\n              <Button color=\"white\" onClick={() => setEditInvoiceOpen(true)}>\r\n                Edit\r\n              </Button>\r\n              <Button color=\"red\" onClick={() => setDeleteModalOpen(true)}>\r\n                Delete\r\n              </Button>\r\n              {status !== \"draft\" && (\r\n                <Button onClick={() => toggleStatus()}>\r\n                  Mark as {status === \"pending\" ? \"Paid\" : \"Pending\"}\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </InvoiceActions>\r\n        )}\r\n        {width < 701 && (\r\n          <StyledStatus\r\n            status={invoice.status}\r\n            className=\"status\"\r\n            darkMode={darkMode}\r\n          >\r\n            <span>\r\n              <FontAwesomeIcon icon={faCircle} className=\"fa-circle\" />\r\n              {_.capitalize(invoice.status)}\r\n            </span>\r\n          </StyledStatus>\r\n        )}\r\n        <InvoiceInfo darkMode={darkMode}>\r\n          <div>\r\n            <div>\r\n              <h2 className=\"invoice-id\">\r\n                <span>#</span>\r\n                {invoice._id.toUpperCase()}\r\n              </h2>\r\n              <span>{invoice.description}</span>\r\n            </div>\r\n            <div className=\"sender-address\">\r\n              <span>{invoice.senderAddress.street}</span>\r\n              <span>{invoice.senderAddress.city}</span>\r\n              <span>{invoice.senderAddress.postCode}</span>\r\n              <span>{invoice.senderAddress.country}</span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              <div>\r\n                <span>Invoice Date</span>\r\n                <h2>{format(new Date(invoice.createdAt), \"L-d-yyyy\")}</h2>\r\n              </div>\r\n              <div>\r\n                <span>Payment Due</span>\r\n                <h2>{format(new Date(invoice.paymentDue), \"L-d-yyyy\")}</h2>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <span>Bill To</span>\r\n              <h2>{invoice.clientName}</h2>\r\n              <span>{invoice.clientAddress.street}</span>\r\n              <span>{invoice.clientAddress.city}</span>\r\n              <span>{invoice.clientAddress.postCode}</span>\r\n              <span>{invoice.clientAddress.country}</span>\r\n            </div>\r\n            {width < 701 && <div className=\"break\"></div>}\r\n            <div className=\"client-email\">\r\n              <span>Sent to</span>\r\n              <h2>{invoice.clientEmail}</h2>\r\n            </div>\r\n          </div>\r\n          <ItemList\r\n            items={invoice.items}\r\n            total={invoice.total}\r\n            darkMode={darkMode}\r\n          />\r\n        </InvoiceInfo>\r\n      </Container>\r\n\r\n      {width < 701 && (\r\n        <InvoiceActions darkMode={darkMode}>\r\n          <div>\r\n            <Button color=\"white\" onClick={() => setEditInvoiceOpen(true)}>\r\n              Edit\r\n            </Button>\r\n            <Button color=\"red\" onClick={() => setDeleteModalOpen(true)}>\r\n              Delete\r\n            </Button>\r\n            <Button onClick={() => toggleStatus()}>\r\n              Mark as {status === \"pending\" ? \"Paid\" : \"Pending\"}\r\n            </Button>\r\n          </div>\r\n        </InvoiceActions>\r\n      )}\r\n      {editInvoiceOpen && (\r\n        <NewInvoiceForm\r\n          handleFormOpened={setEditInvoiceOpen}\r\n          editMode\r\n          editedInvoice={invoice}\r\n          setStatus={setStatus}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 100000;\r\n  overflow: auto;\r\n  form {\r\n    position: relative;\r\n    margin-bottom: 1rem;\r\n    .form-warning {\r\n      color: red;\r\n      font-size: 0.75rem;\r\n      margin-top: 0.5rem;\r\n      position: absolute;\r\n      bottom: -2rem;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const BgTop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 50vh;\r\n  background-color: ${props => props.theme.colors.primary};\r\n  border-bottom-right-radius: 10rem;\r\n`;\r\n\r\nexport const BgBottom = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 50vh;\r\n  background-color: ${props => props.theme.colors.primaryLight};\r\n  border-top-left-radius: 10rem;\r\n`;\r\n\r\nexport const BgLeftEdge = styled.div`\r\n  height: 10rem;\r\n  width: 10rem;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 50%;\r\n  z-index: -1;\r\n  background-color: ${props => props.theme.colors.primary};\r\n`;\r\n\r\nexport const BgRightEdge = styled.div`\r\n  height: 10rem;\r\n  width: 10rem;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 50%;\r\n  transform: translateY(-10rem);\r\n  z-index: -1;\r\n  background-color: ${props => props.theme.colors.primaryLight};\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  position: absolute;\r\n  left: 10rem;\r\n  right: 10rem;\r\n  width: auto;\r\n  height: auto;\r\n  min-height: 600px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n\r\n  @media (max-width: 768px) {\r\n    left: 3rem;\r\n    right: 3rem;\r\n  }\r\n`;\r\n\r\nexport const MainContent = styled.div`\r\n  background-color: white;\r\n  height: 100%;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  max-width: 1200px;\r\n  min-height: 600px;\r\n  -webkit-box-shadow: 5px 5px 15px 5px rgba(0, 0, 0, 0.2);\r\n  box-shadow: 5px 5px 15px 5px rgba(0, 0, 0, 0.2);\r\n  border-radius: 0.5rem;\r\n  display: flex;\r\n  > * {\r\n    flex: 1;\r\n    padding: 4.5rem;\r\n  }\r\n  h1 {\r\n    margin-bottom: 2rem;\r\n    color: ${props => props.theme.colors.black600};\r\n  }\r\n  h3 {\r\n    color: ${props => props.theme.colors.black500};\r\n    font-weight: 600;\r\n  }\r\n  a {\r\n    color: white;\r\n    text-decoration: none;\r\n    &:visited {\r\n      color: white;\r\n    }\r\n  }\r\n  .use-as-guest {\r\n    width: 100%;\r\n    margin-top: 2rem;\r\n    background-color: ${props => props.theme.colors.primaryLight};\r\n  }\r\n  @media (max-width: 1200px) {\r\n    flex-direction: column;\r\n    padding: 2rem;\r\n    > * {\r\n      padding: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const AppInfo = styled.div`\r\n  padding-right: 2.25rem;\r\n  @media (max-width: 1200px) {\r\n    padding: 0;\r\n    text-align: center;\r\n    max-width: 60ch;\r\n    margin: 0 auto;\r\n  }\r\n`;\r\n\r\nexport const Login = styled.div`\r\n  padding-left: 2.25rem;\r\n  h2 {\r\n    color: black;\r\n  }\r\n  @media (max-width: 1200px) {\r\n    padding: 0;\r\n    margin-top: 2rem;\r\n  }\r\n`;\r\n\r\nexport const FormField = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 2rem;\r\n  color: black;\r\n  label {\r\n    margin-bottom: 1rem;\r\n  }\r\n  &:nth-child(1) {\r\n    margin-bottom: 2rem;\r\n  }\r\n`;\r\n\r\nexport const Buttons = styled.div`\r\n  display: flex;\r\n  > * {\r\n    flex: 1;\r\n    margin-top: 2rem;\r\n  }\r\n  button:nth-of-type(1) {\r\n    margin-right: 1rem;\r\n  }\r\n  button:nth-of-type(2) {\r\n    margin-left: 1rem;\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { FormInput } from \"../shared/FormInput.elements\";\r\nimport { Button } from \"../shared/Button.elements\";\r\n\r\nimport usersService from \"../../services/users\";\r\nimport invoiceService from \"../../services/invoices\";\r\n\r\nimport {\r\n  Container,\r\n  BgTop,\r\n  BgBottom,\r\n  BgLeftEdge,\r\n  BgRightEdge,\r\n  Wrapper,\r\n  MainContent,\r\n  AppInfo,\r\n  Login,\r\n  FormField,\r\n  Buttons\r\n} from \"./Login.elements\";\r\n\r\nexport default function Sandbox() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [newUsername, setNewUsername] = useState(\"\");\r\n  const [newEmail, setNewEmail] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [pwConfirm, setPwConfirm] = useState(\"\");\r\n\r\n  const [registering, setRegistering] = useState(false);\r\n\r\n  const [formWarning, setFormWarning] = useState(null);\r\n\r\n  const history = useHistory();\r\n\r\n  // Clear form warnings on input or form change\r\n  useEffect(() => {\r\n    setFormWarning(null);\r\n  }, [\r\n    username,\r\n    password,\r\n    newUsername,\r\n    newEmail,\r\n    newPassword,\r\n    pwConfirm,\r\n    registering\r\n  ]);\r\n\r\n  const register = async () => {\r\n    // Check that all fields are filled in\r\n    if (\r\n      newUsername.trim().length === 0 ||\r\n      newEmail.trim().length === 0 ||\r\n      newPassword.trim().length === 0 ||\r\n      pwConfirm.trim().length === 0\r\n    ) {\r\n      return setFormWarning(\"All fields must be filled\");\r\n    }\r\n\r\n    // new password matches confirm pw\r\n    if (newPassword !== pwConfirm) {\r\n      return setFormWarning(\"Passwords do not match\");\r\n    }\r\n\r\n    // Attempt to create account\r\n    const registration = await usersService.register({\r\n      newUsername,\r\n      newEmail,\r\n      newPassword,\r\n      pwConfirm\r\n    });\r\n\r\n    // Errors returned from the server (usually a username or email already in use)\r\n    if (registration?.error) {\r\n      return setFormWarning(registration.error);\r\n    }\r\n\r\n    history.push(\"/invoices\");\r\n  };\r\n\r\n  const login = async () => {\r\n    // Check that both fields are filled in\r\n    if (username.trim().length === 0 || password.trim().length === 0) {\r\n      return setFormWarning(\"Both fields must be filled\");\r\n    }\r\n\r\n    // Validate username and password\r\n    const userLogin = await usersService.login(username, password);\r\n\r\n    // Errors returned from the server (usually invalid username/pw)\r\n    if (userLogin?.error) {\r\n      return setFormWarning(userLogin.error);\r\n    }\r\n\r\n    localStorage.setItem(\"username\", username.trim());\r\n\r\n    history.push(\"/invoices\");\r\n  };\r\n\r\n  const continueAsGuest = async () => {\r\n    if (localStorage.getItem(\"guestDarkMode\") === null) {\r\n      localStorage.setItem(\"guestDarkMode\", false);\r\n    }\r\n\r\n    history.push(\"/invoices\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <BgTop></BgTop>\r\n      <BgBottom></BgBottom>\r\n      <BgLeftEdge></BgLeftEdge>\r\n      <BgRightEdge></BgRightEdge>\r\n      <Wrapper>\r\n        <MainContent>\r\n          <AppInfo>\r\n            <h1>Invoicing Made Easy</h1>\r\n            <h3>\r\n              Save time by organizing your business workflow with this free\r\n              invoicing app. Start today!\r\n            </h3>\r\n          </AppInfo>\r\n          <Login>\r\n            {registering === false && (\r\n              <>\r\n                <h2>Login</h2>\r\n\r\n                <form>\r\n                  <FormField>\r\n                    <label htmlFor=\"username\">Username</label>\r\n                    <FormInput\r\n                      type=\"text\"\r\n                      id=\"username\"\r\n                      name=\"username\"\r\n                      value={username}\r\n                      onChange={e => setUsername(e.target.value)}\r\n                    />\r\n                  </FormField>\r\n                  <FormField>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <FormInput\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      name=\"password\"\r\n                      value={password}\r\n                      onChange={e => setPassword(e.target.value)}\r\n                    />\r\n                  </FormField>\r\n                  <span className=\"form-warning\">{formWarning}</span>\r\n                </form>\r\n\r\n                <Buttons>\r\n                  <Button onClick={() => login()}>Log in</Button>\r\n                  <Button color=\"white\" onClick={() => setRegistering(true)}>\r\n                    Sign up\r\n                  </Button>\r\n                </Buttons>\r\n                <Link to=\"/invoices\">\r\n                  <Button className=\"use-as-guest\" onClick={continueAsGuest}>\r\n                    Use as guest\r\n                  </Button>\r\n                </Link>\r\n              </>\r\n            )}\r\n            {registering && (\r\n              <>\r\n                <h2>Register</h2>\r\n                <form>\r\n                  <FormField>\r\n                    <label htmlFor=\"new-username\">Username</label>\r\n                    <FormInput\r\n                      type=\"text\"\r\n                      id=\"new-username\"\r\n                      name=\"new-username\"\r\n                      value={newUsername}\r\n                      onChange={e => setNewUsername(e.target.value)}\r\n                    />\r\n                  </FormField>\r\n                  <FormField>\r\n                    <label htmlFor=\"new-email\">Email</label>\r\n                    <FormInput\r\n                      type=\"new-email\"\r\n                      id=\"new-email\"\r\n                      name=\"new-email\"\r\n                      value={newEmail}\r\n                      onChange={e => setNewEmail(e.target.value)}\r\n                    />\r\n                  </FormField>\r\n                  <FormField>\r\n                    <label htmlFor=\"new-password\">Password</label>\r\n                    <FormInput\r\n                      type=\"password\"\r\n                      id=\"new-password\"\r\n                      name=\"new-password\"\r\n                      value={newPassword}\r\n                      onChange={e => setNewPassword(e.target.value)}\r\n                    />\r\n                  </FormField>\r\n                  <FormField>\r\n                    <label htmlFor=\"pw-confirm\">Confirm Password</label>\r\n                    <FormInput\r\n                      type=\"password\"\r\n                      id=\"pw-confirm\"\r\n                      name=\"pw-confirm\"\r\n                      value={pwConfirm}\r\n                      onChange={e => setPwConfirm(e.target.value)}\r\n                    />\r\n                  </FormField>\r\n                  <span className=\"form-warning\">{formWarning}</span>\r\n                </form>\r\n\r\n                <Buttons>\r\n                  <Button onClick={() => register()}>Create account</Button>\r\n                  <Button color=\"white\" onClick={() => setRegistering(false)}>\r\n                    Cancel\r\n                  </Button>\r\n                </Buttons>\r\n              </>\r\n            )}\r\n          </Login>\r\n        </MainContent>\r\n      </Wrapper>\r\n    </Container>\r\n  );\r\n}\r\n","import { useState, useRef } from \"react\";\r\nimport { Switch, Route, Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport useComponentWillMount from \"./components/custom-hooks/useComponentWillMount\";\r\n\r\nimport { setStoredToken } from \"./services/tokenUtil\";\r\n\r\nimport { Container } from \"./App.elements\";\r\n\r\nimport { InvoiceProvider } from \"./InvoiceContext\";\r\nimport { DarkModeProvider, useDarkMode } from \"./darkModeContext\";\r\n\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport InvoicesView from \"./components/InvoicesView/InvoicesView\";\r\nimport SingleInvoiceView from \"./components/SingleInvoiceView/SingleInvoiceView\";\r\nimport Login from \"./components/Login/Login\";\r\n\r\nfunction App() {\r\n  const [selectedInvoice, setSelectedInvoice] = useState({});\r\n\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  useComponentWillMount(() => {\r\n    const storedUser = localStorage.getItem(\"loggedUser\");\r\n    if (storedUser) {\r\n      setStoredToken(storedUser);\r\n      if (location.pathname === \"/\") {\r\n        history.push(\"/invoices\");\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Container darkMode={useDarkMode()}>\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/invoices\"\r\n            render={() => (\r\n              <InvoicesView handleSelectInvoice={setSelectedInvoice} />\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/invoices/:id\"\r\n            render={() => <SingleInvoiceView invoice={selectedInvoice} />}\r\n          />\r\n          <Route path=\"/\" component={Login} />\r\n        </Switch>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { useRef } from \"react\";\r\n\r\nexport default function useComponentWillMount(callback) {\r\n  const willMount = useRef(true);\r\n\r\n  if (willMount.current) callback();\r\n\r\n  willMount.current = false;\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const colors = {\r\n  primary: \"#7C5DFA\",\r\n  primaryLight: \"#9277FF\",\r\n  black300: \"#252945\",\r\n  black400: \"#1E2139\",\r\n  black500: \"#141625\",\r\n  black600: \"#0C0E16\",\r\n  white500: \"#DFE3FA\",\r\n  white600: \"#F8F8F8\",\r\n  red: \"#EC5757\",\r\n  pink: \"#FF9797\",\r\n  gray400: \"#373B53\",\r\n  gray500: \"#888EB0\",\r\n  blueGray: \"#7E88C3\",\r\n  blueGrayLight: \"#cad1f6\"\r\n};\r\n\r\nexport default { colors };\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./reset.css\";\n\nimport { ThemeProvider } from \"styled-components\";\nimport theme from \"./theme\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { InvoiceProvider } from \"./InvoiceContext\";\nimport { DarkModeProvider } from \"./darkModeContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <ThemeProvider theme={theme}>\n        <InvoiceProvider>\n          <DarkModeProvider>\n            <App />\n          </DarkModeProvider>\n        </InvoiceProvider>\n      </ThemeProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/icon-moon.7101c57d.svg\";","export default __webpack_public_path__ + \"static/media/icon-sun.f3da52d1.svg\";","import styled from \"styled-components\";\r\n\r\nimport logo from \"../../assets/logo.svg\";\r\n\r\nimport moon from \"../../assets/icon-moon.svg\";\r\nimport sun from \"../../assets/icon-sun.svg\";\r\n\r\nimport avatar from \"../../assets/image-avatar.jpg\";\r\n\r\nconst breakpoints = {\r\n  tablet: \"768px\"\r\n};\r\n\r\nexport const Sidebar = styled.div`\r\n  height: 100vh;\r\n  width: 100px;\r\n  background-color: ${props => props.theme.colors.gray400};\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-top-right-radius: 1rem;\r\n  border-bottom-right-radius: 1rem;\r\n  justify-content: space-between;\r\n  position: relative;\r\n  z-index: 20;\r\n  @media (max-width: ${breakpoints.tablet}) {\r\n    height: 80px;\r\n    width: 100vw;\r\n    flex-direction: row;\r\n    border-radius: 0;\r\n    > div:nth-child(2) {\r\n      width: 180px;\r\n      display: flex;\r\n      /* > * {\r\n        flex: 1;\r\n      } */\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Branding = styled.div`\r\n  height: 100px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: ${props => props.theme.colors.primary};\r\n  border-top-right-radius: 1rem;\r\n  border-bottom-right-radius: 1rem;\r\n  @media (max-width: ${breakpoints.tablet}) {\r\n    /* flex-direction: row; */\r\n    width: 80px;\r\n    height: 80px;\r\n  }\r\n`;\r\n\r\nexport const Logo = styled.div`\r\n  background: url(${logo});\r\n  height: 39.3px;\r\n  width: 42px;\r\n  background-size: cover;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  @media (max-width: ${breakpoints.tablet}) {\r\n    height: 31px;\r\n    width: 34px;\r\n  }\r\n`;\r\n\r\nexport const BgTop = styled.div`\r\n  flex: 1;\r\n  background-color: ${props => props.theme.colors.primary};\r\n  border-top-right-radius: 1rem;\r\n`;\r\n\r\nexport const BgBot = styled.div`\r\n  flex: 1;\r\n  background-color: ${props => props.theme.colors.primaryLight};\r\n  border-top-left-radius: 1rem;\r\n  border-bottom-right-radius: 1rem;\r\n`;\r\n\r\nexport const ToggleContainer = styled.div`\r\n  height: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  @media (max-width: ${breakpoints.tablet}) {\r\n    height: 80px;\r\n    flex-basis: 80px;\r\n  }\r\n`;\r\n\r\nexport const NightToggle = styled.div`\r\n  background: url(${moon});\r\n  height: 20px;\r\n  width: 20px;\r\n  background-size: cover;\r\n  &:hover {\r\n    cursor: pointer;\r\n    filter: brightness(120%);\r\n  }\r\n`;\r\n\r\nexport const DayToggle = styled.div`\r\n  background: url(${sun});\r\n  height: 20px;\r\n  width: 20px;\r\n  background-size: cover;\r\n  &:hover {\r\n    cursor: pointer;\r\n    filter: brightness(120%);\r\n  }\r\n`;\r\n\r\n// export const ProfilePictureContainer = styled.div`\r\n//   position: relative;\r\n//   height: 100px;\r\n//   border-top: 1px solid ${props => props.theme.colors.blueGray};\r\n//   @media (max-width: ${breakpoints.tablet}) {\r\n//     height: 80px;\r\n//     flex-basis: 100px;\r\n//     border: none;\r\n//     border-left: 1px solid ${props => props.theme.colors.blueGray};\r\n//   }\r\n// `;\r\n\r\n// export const ProfilePicture = styled.div`\r\n//   height: 40px;\r\n//   width: 40px;\r\n//   background: url(${avatar});\r\n//   background-size: cover;\r\n//   border-radius: 40px;\r\n//   position: absolute;\r\n//   left: 50%;\r\n//   top: 50%;\r\n//   transform: translate(-50%, -50%);\r\n// `;\r\n\r\nexport const LoginInfo = styled.div`\r\n  position: relative;\r\n  height: 100px;\r\n  border-top: 1px solid ${props => props.theme.colors.blueGray};\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  > * {\r\n    text-align: center;\r\n    margin: 0;\r\n  }\r\n  .username {\r\n    color: #858bb2;\r\n    margin-bottom: 0.5rem;\r\n    word-wrap: break-word;\r\n  }\r\n  .logout {\r\n    margin-top: 0.5rem;\r\n    color: white;\r\n    &:hover {\r\n      cursor: pointer;\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n  @media (max-width: 768px) {\r\n    border-top: none;\r\n    height: auto;\r\n    width: 100px;\r\n  }\r\n`;\r\n","import axios from \"axios\";\r\nimport { setStoredToken } from \"./tokenUtil\";\r\n\r\nconst baseUrl = process.env.baseURL || \"http://localhost:5000\";\r\n\r\nconst register = async credentials => {\r\n  try {\r\n    await axios.post(`${baseUrl}/users`, credentials);\r\n    return;\r\n  } catch (error) {\r\n    console.log(error.response.data);\r\n    return error.response.data;\r\n  }\r\n};\r\n\r\nconst login = async (username, password) => {\r\n  const user = {\r\n    username,\r\n    password\r\n  };\r\n\r\n  try {\r\n    const req = await axios.post(`${baseUrl}/users/login`, user);\r\n\r\n    const token = req.data.userToken;\r\n    setStoredToken(token);\r\n    window.localStorage.setItem(\"loggedUser\", token);\r\n    return;\r\n  } catch (error) {\r\n    return error.response.data;\r\n  }\r\n};\r\n\r\nconst getDarkModePref = async () => {\r\n  try {\r\n    const req = await axios.get(`${baseUrl}/users/darkmode`);\r\n\r\n    return req.data;\r\n  } catch (error) {\r\n    return error.response.data;\r\n  }\r\n};\r\n\r\nconst toggleDarkModePref = async () => {\r\n  try {\r\n    const req = await axios.put(`${baseUrl}/users/darkmode`);\r\n\r\n    console.log(req);\r\n  } catch (error) {\r\n    return error.response.data;\r\n  }\r\n};\r\n\r\nconst usersService = {\r\n  register,\r\n  login,\r\n  getDarkModePref,\r\n  toggleDarkModePref\r\n};\r\n\r\nexport default usersService;\r\n","import axios from \"axios\";\r\n\r\nlet storedToken = null;\r\n\r\nexport const setStoredToken = token => {\r\n  storedToken = token;\r\n  axios.defaults.headers.common[\"Authorization\"] = storedToken;\r\n};\r\n\r\nexport const removeStoredToken = () => {\r\n  storedToken = null;\r\n};\r\n\r\nexport default storedToken;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport usersService from \"../../services/users\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { removeStoredToken } from \"../../services/tokenUtil\";\r\n\r\nimport { useDarkMode, useDarkModeUpdate } from \"../../darkModeContext\";\r\n\r\nimport logo from \"../../assets/logo.svg\";\r\nimport {\r\n  Sidebar as Container,\r\n  Branding,\r\n  Logo,\r\n  BgTop,\r\n  BgBot,\r\n  ToggleContainer,\r\n  DayToggle,\r\n  NightToggle,\r\n  ProfilePictureContainer,\r\n  ProfilePicture,\r\n  LoginInfo\r\n} from \"./Sidebar.elements\";\r\n\r\nexport default function Sidebar() {\r\n  const history = useHistory();\r\n  const setDarkModeContext = useDarkModeUpdate();\r\n\r\n  const [darkModeEnabled, setDarkModeEnabled] = useState(useDarkMode());\r\n  const [whosLoggedIn, setWhosLoggedIn] = useState(\r\n    localStorage.getItem(\"username\") || \"Guest\"\r\n  );\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"loggedUser\");\r\n    localStorage.removeItem(\"username\");\r\n    removeStoredToken();\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const handleToggleDarkMode = async () => {\r\n    setDarkModeContext(!darkModeEnabled);\r\n    setDarkModeEnabled(prevState => !prevState);\r\n\r\n    if (localStorage.getItem(\"username\") === null) {\r\n      const prevGuestDarkMode = eval(localStorage.getItem(\"guestDarkMode\"));\r\n      localStorage.setItem(\"guestDarkMode\", !prevGuestDarkMode);\r\n    } else {\r\n      await usersService.toggleDarkModePref();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getDarkModePref = async () => {\r\n      let darkModePref;\r\n\r\n      if (localStorage.getItem(\"username\") === null) {\r\n        darkModePref = eval(localStorage.getItem(\"guestDarkMode\"));\r\n      } else {\r\n        darkModePref = await usersService.getDarkModePref();\r\n      }\r\n\r\n      setDarkModeContext(darkModePref);\r\n      setDarkModeEnabled(darkModePref);\r\n    };\r\n\r\n    getDarkModePref();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <Branding>\r\n          <BgTop></BgTop>\r\n          <BgBot></BgBot>\r\n          <Logo></Logo>\r\n        </Branding>\r\n      </div>\r\n      <div>\r\n        <ToggleContainer>\r\n          {darkModeEnabled ? (\r\n            <DayToggle onClick={handleToggleDarkMode}></DayToggle>\r\n          ) : (\r\n            <NightToggle onClick={handleToggleDarkMode}></NightToggle>\r\n          )}\r\n        </ToggleContainer>\r\n\r\n        {/* Need to add support for user-determined profile pictures */}\r\n        {/* <ProfilePictureContainer>\r\n          <ProfilePicture onClick={logout}></ProfilePicture>\r\n        </ProfilePictureContainer> */}\r\n        <LoginInfo>\r\n          <p className=\"username\">{whosLoggedIn}</p>\r\n          <a onClick={logout} className=\"logout\">\r\n            Logout\r\n          </a>\r\n        </LoginInfo>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.e8c9e71e.svg\";"],"sourceRoot":""}